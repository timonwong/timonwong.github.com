<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Timon Wong&#39;s Blog</title>
  <subtitle>(â•¯Â°â–¡Â°ï¼‰â•¯ â”»â”â”»</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://theo.im/"/>
  <updated>2016-05-23T02:29:31.000Z</updated>
  <id>http://theo.im/</id>
  
  <author>
    <name>Timon Wong</name>
    <email>timon86.wang@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>è¯•ç”¨æœ€æ–°çš„ Docker for Mac Beta</title>
    <link href="http://theo.im/blog/2016/05/22/evaluating-new-docker-for-mac-beta/"/>
    <id>http://theo.im/blog/2016/05/22/evaluating-new-docker-for-mac-beta/</id>
    <published>2016-05-22T13:47:02.000Z</published>
    <updated>2016-05-23T02:29:31.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å¦‚ä½•ç”³è¯·-Docker-for-Mac-Beta&quot;&gt;&lt;a href=&quot;#å¦‚ä½•ç”³è¯·-Docker-for-Mac-Beta&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•ç”³è¯· Docker for Mac Beta&quot;&gt;&lt;/a&gt;å¦‚ä½•ç”³è¯· Docker for Mac Beta&lt;/h2&gt;&lt;p&gt;è¯·è®¿é—®è¿™ä¸ªåœ°å€ç”³è¯·ï¼Œå¯èƒ½éœ€è¦ç­‰å‡ å¤©ï¼š&lt;a href=&quot;https://beta.docker.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://beta.docker.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Docker for Mac Betaï¼Œæœ€å¤§çš„å¥½å¤„å°±æ˜¯ä¸å†ä¾èµ– VirtualBox VM äº†ï¼Œè€Œæ˜¯ä½¿ç”¨äº†æ›´è½»é‡åŒ–çš„ &lt;a href=&quot;https://github.com/mist64/xhyve&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;xhyve&lt;/a&gt; ä½œä¸ºå…¶è™šæ‹ŸåŒ–æ–¹æ¡ˆï¼ˆä¹Ÿå³æ˜¯è¯´ï¼Œä»ç„¶ä¸æ˜¯åŸç”Ÿçš„ï¼Œè¿˜æ˜¯éœ€è¦è™šæ‹ŸåŒ–ä¸€ä¸ª Linux å‡ºæ¥åœ¨ä¸Šé¢è¿è¡Œ Docker Daemonï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„ Docker for Mac ä½¿ç”¨äº† &lt;a href=&quot;http://alpinelinux.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Alpine Linux&lt;/a&gt; å‘è¡Œç‰ˆï¼Œä½œä¸ºä¸€ä¸ªæ›´è½»é‡åŒ–çš„å‘è¡Œç‰ˆï¼Œä¸ä¸€èˆ¬çš„å‘è¡Œç‰ˆæœ‰ä¸å°‘åŒºåˆ«ï¼Œæ¯”å¦‚ï¼Œä½¿ç”¨ &lt;code&gt;ash&lt;/code&gt; æ›¿æ¢ &lt;code&gt;bash&lt;/code&gt; ç­‰ï¼Œå…·ä½“è¯·è®¿é—® &lt;a href=&quot;http://alpinelinux.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Alpine Linux&lt;/a&gt; ç½‘ç«™è·å–æ›´å¤šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä½¿ç”¨-Docker-Hub-Registry-Mirror&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨-Docker-Hub-Registry-Mirror&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨ Docker Hub Registry Mirror&quot;&gt;&lt;/a&gt;ä½¿ç”¨ Docker Hub Registry Mirror&lt;/h2&gt;&lt;p&gt;ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œåœ¨å›½å†…è®¿é—® Docker Hub çš„é€Ÿåº¦ç›¸å½“ç¼“æ…¢ï¼Œå› æ­¤éœ€è¦è®¾ç½®ä¸€ä¸ª Docker Registry Mirror æ¥åŠ é€Ÿï¼Œè¿™é‡Œä½¿ç”¨ &lt;a href=&quot;https://servers.ustclug.org/2015/05/new-docker-hub-registry-mirror/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;USTC çš„ Docker Hub Mirror&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å°±å¦‚åŒä¹‹å‰æ‰€è¯´ï¼Œ&lt;a href=&quot;http://alpinelinux.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Alpine Linux&lt;/a&gt; å‘è¡Œç‰ˆä¸ä¸€èˆ¬å‘è¡Œç‰ˆæœ‰å·¨å¤§åŒºåˆ«ï¼Œå› æ­¤è°ƒæ•´ Docker Daemon çš„å¯åŠ¨å‚æ•°ä¹Ÿä¸å¤§ä¸€æ ·ğŸ˜‚&lt;/p&gt;
&lt;h3 id=&quot;Quick-Way&quot;&gt;&lt;a href=&quot;#Quick-Way&quot; class=&quot;headerlink&quot; title=&quot;Quick Way&quot;&gt;&lt;/a&gt;Quick Way&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; å®‰è£…äº† &lt;code&gt;jq&lt;/code&gt; å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¯ä»¥é€šè¿‡ &lt;code&gt;brew install jq&lt;/code&gt; å®‰è£…ï¼‰ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œä¸€è¡Œå‘½ä»¤è¡Œæå®šï¼Œå¦åˆ™è¯·å‚é˜…ã€ŒSlow Wayã€ä¸€èŠ‚ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pinata get daemon | jq -cm &lt;span class=&quot;string&quot;&gt;&#39;.&quot;registry-mirrors&quot; = [&quot;https://docker.mirrors.ustc.edu.cn&quot;]&#39;&lt;/span&gt; | pinata &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; daemon -&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Slow-Way&quot;&gt;&lt;a href=&quot;#Slow-Way&quot; class=&quot;headerlink&quot; title=&quot;Slow Way&quot;&gt;&lt;/a&gt;Slow Way&lt;/h3&gt;&lt;h4 id=&quot;1-å¯¼å‡ºå½“å‰çš„è®¾ç½®&quot;&gt;&lt;a href=&quot;#1-å¯¼å‡ºå½“å‰çš„è®¾ç½®&quot; class=&quot;headerlink&quot; title=&quot;1. å¯¼å‡ºå½“å‰çš„è®¾ç½®&quot;&gt;&lt;/a&gt;1. å¯¼å‡ºå½“å‰çš„è®¾ç½®&lt;/h4&gt;&lt;p&gt;è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†å½“å‰è®¾ç½®ä¿å­˜åˆ° &lt;code&gt;docker-config.json&lt;/code&gt; æ–‡ä»¶ä¸­ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pinata get daemon &amp;gt; docker-config.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## &amp;gt;&amp;gt; &amp;#123;&quot;storage-driver&quot;:&quot;aufs&quot;,&quot;debug&quot;:true&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;2-ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘è®¾ç½®&quot;&gt;&lt;a href=&quot;#2-ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘è®¾ç½®&quot; class=&quot;headerlink&quot; title=&quot;2. ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘è®¾ç½®&quot;&gt;&lt;/a&gt;2. ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘è®¾ç½®&lt;/h4&gt;&lt;p&gt;ä½¿ç”¨ä»»ä½•ä¸€ç§æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ‰“å¼€ &lt;code&gt;docker-config.json&lt;/code&gt; å¹¶æŒ‰ç…§ &lt;code&gt;JSON&lt;/code&gt; æ ¼å¼ç¼–è¾‘ä¸ºä»¥ä¸‹å†…å®¹ï¼Œç„¶åä¿å­˜å¹¶é€€å‡ºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;span class=&quot;attr&quot;&gt;&quot;storage-driver&quot;&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;aufs&quot;&lt;/span&gt;,&lt;span class=&quot;attr&quot;&gt;&quot;debug&quot;&lt;/span&gt;:&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;attr&quot;&gt;&quot;registry-mirrors&quot;&lt;/span&gt;:[&lt;span class=&quot;string&quot;&gt;&quot;https://docker.mirrors.ustc.edu.cn&quot;&lt;/span&gt;]&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;3-åŠ è½½æœ€æ–°è®¾ç½®&quot;&gt;&lt;a href=&quot;#3-åŠ è½½æœ€æ–°è®¾ç½®&quot; class=&quot;headerlink&quot; title=&quot;3. åŠ è½½æœ€æ–°è®¾ç½®&quot;&gt;&lt;/a&gt;3. åŠ è½½æœ€æ–°è®¾ç½®&lt;/h4&gt;&lt;p&gt;æœ€åï¼ŒåŠ è½½ &lt;code&gt;docker-config.json&lt;/code&gt; ä¸­çš„è®¾ç½®å°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;pinata set daemon @docker-config.json&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;è·å–-Docker-Guest-çš„-IP-åœ°å€&quot;&gt;&lt;a href=&quot;#è·å–-Docker-Guest-çš„-IP-åœ°å€&quot; class=&quot;headerlink&quot; title=&quot;è·å– Docker Guest çš„ IP åœ°å€&quot;&gt;&lt;/a&gt;è·å– Docker Guest çš„ IP åœ°å€&lt;/h2&gt;&lt;p&gt;æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¾—åˆ° Docker Guest çš„ IP åœ°å€ï¼Œå…¶å®ä¸å¤§æœ‰æ¯”è¾ƒå¿«æ·çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼Œå…ˆè¿è¡Œ &lt;code&gt;pinata get network&lt;/code&gt;ï¼Œå±…ç„¶è¿”å›è¿™ä¸ªï¼Ÿï¼ŸWTFï¼Ÿï¼&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;hostnet&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶ååªæœ‰è¿è¡Œ &lt;code&gt;pinata list&lt;/code&gt; äº†ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;These are advanced configuration settings to customise Docker.app on MacOSX.
You can set them via pinata set &amp;lt;key&amp;gt; &amp;lt;value&amp;gt; &amp;lt;options&amp;gt;.

ğŸ³  hostname = docker
   Hostname of the virtual machine endpoint, where container ports will be
   exposed if using nat networking. Access it via &amp;apos;docker.local&amp;apos;.

ğŸ³  hypervisor = native (memory=2, ncpu=2)
   The Docker.app includes embedded hypervisors that run the virtual machines
   that power the containers. This setting allows you to control which the
   default one used for Linux is.

 â–¸  native: a version of the xhyve hypervisor that uses the MacOSX
              Hypervisor.framework to run container VMs. Parameters:
              memory (VM memory in gigabytes), ncpu (vCPUs)


ğŸ³  network = hostnet (docker-ipv4=192.168.65.2, host-ipv4=192.168.65.1)
   Controls how local containers can access the external network via the
   MacOS X host. This includes outbound traffic as well as publishing ports
   for external access to the local containers.

 â–¸ hostnet: a mode that helps if you are using a VPN that restricts
              connectivity. Activating this mode will proxy container network
              packets via the Docker.app process as host socket traffic.
              Parameters: docker-ipv4 (docker node), host-ipv4 (host node)
 â–¸     nat: a mode that uses the MacOS X vmnet.framework to route container
              traffic to the host network via a NAT.

ğŸ³  filesystem = osxfs
   Controls the mode by which files from the MacOS X host and the container
   filesystem are shared with each other.

 â–¸   osxfs: a FUSE-based filesystem that bidirectionally forwards OSX
              filesystem events into the container.


ğŸ³  native/port-forwarding = true
   Expose container ports on the Mac, rather than the VM

 â–¸    true: Container ports will be exposed on the Mac
 â–¸   false: Container ports will be exposed on the VM

ğŸ³  daemon = run &amp;apos;pinata get daemon&amp;apos; or &amp;apos;pinata set daemon [@file|-]&amp;gt;
   JSON configuration of the local Docker daemon. Configure any custom
   options you need as documented in:
   https://docs.docker.com/engine/reference/commandline/daemon/. Set it
   directly, or a @file or - for stdin.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å› æ­¤çœ‹èµ·æ¥ä½¿ç”¨ &lt;code&gt;pinata list | grep &amp;#39;network =&amp;#39;&lt;/code&gt; æ‰æ˜¯åˆç†çš„æ–¹å¼ä¹‹ä¸€ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;*  network = hostnet (docker-ipv4=192.168.65.2, host-ipv4=192.168.65.1)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä»¥ä¸Š&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å¦‚ä½•ç”³è¯·-Docker-for-Mac-Beta&quot;&gt;&lt;a href=&quot;#å¦‚ä½•ç”³è¯·-Docker-for-Mac-Beta&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•ç”³è¯· Docker for Mac Beta&quot;&gt;&lt;/a&gt;å¦‚ä½•ç”³è¯· Docker fo
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Docker" scheme="http://theo.im/tags/docker/"/>
    
      <category term="OSX" scheme="http://theo.im/tags/osx/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨ Python ä¸­ç»Ÿè®¡æ–‡æœ¬å­—ç¬¦ä¸ªæ•°</title>
    <link href="http://theo.im/blog/2014/08/13/count-text-element-count-in-python/"/>
    <id>http://theo.im/blog/2014/08/13/count-text-element-count-in-python/</id>
    <published>2014-08-13T06:05:02.000Z</published>
    <updated>2016-05-22T13:48:17.000Z</updated>
    
    <content type="html">&lt;p&gt;å­—ç¬¦é›†å‘æ¥éƒ½æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼Œå³ä½¿æ˜¯ Python 3.xï¼Œä¹Ÿæœ€å¤šåªæ˜¯èƒ½è¯´æ„Ÿè°¢ &lt;a href=&quot;http://en.wikipedia.org/wiki/Unicode&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Unicode&lt;/a&gt; å­—ç¬¦é›†ï¼Œå­—ç¬¦ä¸²çš„å­˜å–ç°åœ¨æ²¡æœ‰é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;Unicode å­—ç¬¦é›†çš„å¸¸è§&lt;strong&gt;ç¼–ç &lt;/strong&gt;æœ‰ &lt;a href=&quot;http://en.wikipedia.org/wiki/UTF-8&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;UTF-8&lt;/a&gt;ã€&lt;a href=&quot;http://en.wikipedia.org/wiki/UTF-16&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;UTF-16&lt;/a&gt;ã€&lt;a href=&quot;http://en.wikipedia.org/wiki/UTF-32&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;UTF-32&lt;/a&gt; ç­‰å¸¸è§æ ¼å¼ï¼Œå¦å¤–ï¼Œ&lt;a href=&quot;http://en.wikipedia.org/wiki/GB_18030&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GB18030&lt;/a&gt; ä¹Ÿå¯ä»¥ç®—å…¶ä¸­ä¸€ç§ï¼ˆ GB18030ï¼Œä¸ UTF-8 ç±»ä¼¼ï¼Œæ˜¯ä¸€ç§å˜é•¿ç¼–ç æ ¼å¼ï¼Œæœ€å¤§çš„ä¼˜åŠ¿å°±æ˜¯å…¼å®¹ &lt;a href=&quot;http://en.wikipedia.org/wiki/GBK&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GBK&lt;/a&gt;/&lt;a href=&quot;http://en.wikipedia.org/wiki/GB2312&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GB2312&lt;/a&gt; ï¼‰&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ Unicode å°±èƒ½æ— ç—›çš„è§£å†³æ‰€æœ‰é—®é¢˜å—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;åæ§½åæ§½åæ§½&quot;&gt;&lt;a href=&quot;#åæ§½åæ§½åæ§½&quot; class=&quot;headerlink&quot; title=&quot;åæ§½åæ§½åæ§½&quot;&gt;&lt;/a&gt;åæ§½åæ§½åæ§½&lt;/h3&gt;&lt;p&gt;é¢˜å¤–è¯ï¼Œå¯¹äºä¼ ç»Ÿçš„ MBCS ç¼–ç ï¼Œæ€»å¾—è¯´æ¥ GBK è®¾è®¡ç®—æ˜¯æ¯”è¾ƒåˆç†çš„ï¼Œè‡³å°‘åœ¨ 0x00 ~ 0x7f çš„ ASCII åŒºé—´é‡Œé¢æ²¡æœ‰ä¹±æ¥ã€‚
BIG5 å°±ä¸è¯´äº†ï¼Œâ€œè®¸åŠŸç›–â€ é—®é¢˜å¤§å®¶éƒ½çŸ¥é“ï¼Œç®€ç›´é¬¼ç«å†’ã€‚è¿™é‡Œå°±æ¥åæ§½ä¸€ä¸‹ Shift-JIS å’Œ EUC-KRï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Shift-JIS:&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;First byte&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;ASCII&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;Shift JIS&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;0x5c&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;Â¥&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;0x7e&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;~&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;â€¾&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;EUC-KR:&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;First byte&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;ASCII&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;EUC-KR&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;0x5c&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;\&lt;/code&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;&lt;code&gt;â‚©&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æ»¡çœ¼éƒ½æ˜¯é’±é’±é’±ï¼Œå‘µå‘µï¼Œæ‰“ä½ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ­£æ–‡æ­£æ–‡æ­£æ–‡&quot;&gt;&lt;a href=&quot;#æ­£æ–‡æ­£æ–‡æ­£æ–‡&quot; class=&quot;headerlink&quot; title=&quot;æ­£æ–‡æ­£æ–‡æ­£æ–‡&quot;&gt;&lt;/a&gt;æ­£æ–‡æ­£æ–‡æ­£æ–‡&lt;/h3&gt;&lt;p&gt;å…¶å®ƒçš„å…ˆæš‚ä¸”ä¸æï¼Œå°±è¯´æ€ä¹ˆç»Ÿè®¡å­—ç¬¦ä¸ªæ•°å§ï¼ˆæ–‡æœ¬å…ƒç´ ä¸ªæ•°ï¼‰ã€‚åœ¨ Python ä¸­ï¼Œå¾€å¾€æƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨ &lt;code&gt;len()&lt;/code&gt; å‡½æ•°äº†ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;s = &lt;span class=&quot;string&quot;&gt;&#39;ä¸­æ–‡&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;len(s) &lt;span class=&quot;comment&quot;&gt;# å‘µå‘µ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ˜æ™ºçš„äººç±»çŸ¥é“æœ‰ Unicodeï¼Œå°±å¯ä»¥æŠŠ Unicode æ¬å‡ºæ¥äº†ï¼Œå“ªæ€•è¿™ä¸ªé—®é¢˜å…¶å®è·Ÿç¼–ç æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”¨ Unicode å°±å¥½äº†ï¼Œè¦ä¸å°±ä½¿ç”¨ Python 3 å­—ç¬¦ä¸²åŸç”Ÿä½¿ç”¨ Unicodeï¼Œæ— ç—›è§£å†³æ‰€æœ‰é—®é¢˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Coooooooooooooolï¼Œè®©æˆ‘ä»¬æ¥è¯•è¯•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;s1 = &lt;span class=&quot;string&quot;&gt;u&#39;ä¸­æ–‡&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;assert&lt;/span&gt; len(s1) == &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;comment&quot;&gt;# Wow, çœ‹èµ·æ¥å¯¹äº†æ˜¯å§ï¼Œè®©æˆ‘ä»¬å¼¹å† ç›¸åº†å§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;s2 = &lt;span class=&quot;string&quot;&gt;u&#39;ğ¤´ğªš¥&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;len(s2) &lt;span class=&quot;comment&quot;&gt;# å‘µå‘µå‘µ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¤©æ‰çš„äººç±»çŸ¥é“ UCS-2 å’Œ UCS-4 çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è°å«ä½ ç”¨ Windows å‘¢ï¼Œåªèƒ½ç”¨ UTF-16ï¼Œå¼±çˆ†äº†ï¼Œ Linux ä¸‹ç”¨ UCS-4 å°±èƒ½è§£å†³é—®é¢˜äº†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Sure? ä¸¾ä¸€ä¸ªåä¾‹å°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; sys&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;assert&lt;/span&gt; sys.maxunicode == &lt;span class=&quot;number&quot;&gt;0x10ffff&lt;/span&gt;  &lt;span class=&quot;comment&quot;&gt;# ä¿è¯æ˜¯é€šè¿‡ UCS-4 ç¼–è¯‘çš„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# è¿™æ ·ï¼Œå¸¸è§å­—ï¼Œæ²¡æœ‰é—®é¢˜ï¼ŒGOOD&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;assert&lt;/span&gt; len(&lt;span class=&quot;string&quot;&gt;u&#39;ä¸­æ–‡&#39;&lt;/span&gt;) == &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# è¿™æ ·ï¼Œç”Ÿåƒ»å­—ï¼ŒNon BMPï¼Œä¹Ÿæ²¡æœ‰é—®é¢˜, GOOD&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;assert&lt;/span&gt; len(&lt;span class=&quot;string&quot;&gt;u&#39;ğ¤´ğªš¥&#39;&lt;/span&gt;) == &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# æ¬¢è¿æ¥åˆ° Unicode çš„ä¸–ç•Œ, ä¸è¦å¿˜äº† Unicode æœ‰å« Mark çš„è¿™ç§ä¸œè¥¿&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;assert&lt;/span&gt; len(&lt;span class=&quot;string&quot;&gt;u&#39;Ã«Ì&#39;&lt;/span&gt;) == &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://theo-im.qiniudn.com/images/yaoming-face.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æœ€æ€•åŠç½æ°´äº†ï¼ˆå½“ç„¶ä¹ŸåŒ…æ‹¬æˆ‘è‡ªå·±ï¼Œå¤ªå¯æ€•äº†ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Show-Me-The-Source-Code&quot;&gt;&lt;a href=&quot;#Show-Me-The-Source-Code&quot; class=&quot;headerlink&quot; title=&quot;Show Me The Source Code&quot;&gt;&lt;/a&gt;Show Me The Source Code&lt;/h3&gt;&lt;p&gt;åœ¨ .Net Framwork é‡Œï¼Œæœ‰ä¸€ä¸ªå« String.Globalization.StringInfo çš„ç±»å¯ä»¥å¤„ç†ä¸Šé¢çš„æƒ…å†µã€‚
ç”±äºæˆ‘æœ¬äººæ¯”è¾ƒæ‡’ï¼Œå°±ç›´æ¥å‚è€ƒ Mono çš„ä»£ç å†™äº†ï¼ŒMono çš„ä»£ç å¯ä»¥&lt;a href=&quot;https://github.com/mono/mono/blob/master/mcs/class/corlib/System.Globalization/StringInfo.cs&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†é¿å…ç³»ç»Ÿçš„ç¼–ç é—®é¢˜ï¼Œæ¨èä¿å­˜ä¸ºæ–‡ä»¶(â€˜stringinfo.pyâ€™)ï¼Œå†ä½¿ç”¨ Python è§£æå™¨æ‰§è¡Œï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;figcaption&gt;&lt;span&gt;stringinfo.py&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; unicodedata&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; sys&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;__all__ = [&lt;span class=&quot;string&quot;&gt;&#39;UnicodeCategory&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;StringInfo&#39;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PY3K = sys.version_info[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;] &amp;gt;= &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; PY3K:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    unicode_type = str&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    unicode_type = unicode&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;UnicodeCategory&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(object)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;General Category for Unicode&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    http://www.unicode.org/versions/Unicode6.0.0/ch04.pdf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# Letter&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    UppercaseLetter = &lt;span class=&quot;string&quot;&gt;&#39;Lu&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    LowercaseLetter = &lt;span class=&quot;string&quot;&gt;&#39;Ll&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    TitlecaseLetter = &lt;span class=&quot;string&quot;&gt;&#39;Lt&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ModifierLetter = &lt;span class=&quot;string&quot;&gt;&#39;Lm&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    OtherLetter = &lt;span class=&quot;string&quot;&gt;&#39;Lo&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# Mark&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NonSpacingMark = &lt;span class=&quot;string&quot;&gt;&#39;Mn&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    SpacingCombiningMark = &lt;span class=&quot;string&quot;&gt;&#39;Mc&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    EnclosingMark = &lt;span class=&quot;string&quot;&gt;&#39;Me&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# Number&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    DecimalDigitNumber = &lt;span class=&quot;string&quot;&gt;&#39;Nd&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    LetterNumber = &lt;span class=&quot;string&quot;&gt;&#39;Nl&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    OtherNumber = &lt;span class=&quot;string&quot;&gt;&#39;No&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# Separator&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    SpaceSeparator = &lt;span class=&quot;string&quot;&gt;&#39;Zs&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    LineSeparator = &lt;span class=&quot;string&quot;&gt;&#39;Zl&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ParagraphSeparator = &lt;span class=&quot;string&quot;&gt;&#39;Zp&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# Punctuation&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ConnectorPunctuation = &lt;span class=&quot;string&quot;&gt;&#39;Pc&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    DashPunctuation = &lt;span class=&quot;string&quot;&gt;&#39;Pd&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    OpenPunctuation = &lt;span class=&quot;string&quot;&gt;&#39;Ps&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ClosePunctuation = &lt;span class=&quot;string&quot;&gt;&#39;Pe&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    InitialQuotePunctuation = &lt;span class=&quot;string&quot;&gt;&#39;Pi&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    FinalQuotePunctuation = &lt;span class=&quot;string&quot;&gt;&#39;Pf&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    OtherPunctuation = &lt;span class=&quot;string&quot;&gt;&#39;Po&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# Symbol&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    MathSymbol = &lt;span class=&quot;string&quot;&gt;&#39;Sm&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CurrencySymbol = &lt;span class=&quot;string&quot;&gt;&#39;Sc&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ModifierSymbol = &lt;span class=&quot;string&quot;&gt;&#39;Sk&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    OtherSymbol = &lt;span class=&quot;string&quot;&gt;&#39;So&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# Other&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Control = &lt;span class=&quot;string&quot;&gt;&#39;Cc&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Format = &lt;span class=&quot;string&quot;&gt;&#39;Cf&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Surrogate = &lt;span class=&quot;string&quot;&gt;&#39;Cs&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    PrivateUse = &lt;span class=&quot;string&quot;&gt;&#39;Co&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    OtherNotAssigned = &lt;span class=&quot;string&quot;&gt;&#39;Cn&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;StringInfo&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(object)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self, s)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; isinstance(s, unicode_type):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;raise&lt;/span&gt; TypeError(&lt;span class=&quot;string&quot;&gt;&quot;&#39;string&#39; parameter must be unicode&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        self.s = s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;    @property&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;length_in_text_elements&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;Gets the number of text elements.&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        l = getattr(self, &lt;span class=&quot;string&quot;&gt;&#39;_length_in_text_elements&#39;&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; l &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            l = sum(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; _ &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; self.text_element_length_generator(self.s))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            setattr(self, &lt;span class=&quot;string&quot;&gt;&#39;_length_in_text_elements&#39;&lt;/span&gt;, l)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; l&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;    @classmethod&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;text_element_length_generator&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(cls, s)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;Gets the text element index generator of the specified string.&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; isinstance(s, unicode_type):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;raise&lt;/span&gt; TypeError(&lt;span class=&quot;string&quot;&gt;&quot;parameter &#39;s&#39; must be unicode&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        marks = set([UnicodeCategory.NonSpacingMark,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                     UnicodeCategory.SpacingCombiningMark,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                     UnicodeCategory.EnclosingMark])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        idx = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; idx &amp;lt; len(s):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ch = s[idx]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            count = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            cat = unicodedata.category(ch)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; cat == UnicodeCategory.Surrogate:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;# Check that it&#39;s a high surrogate followed by a low surrogate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0xd800&lt;/span&gt; &amp;lt;= ord(ch) &amp;lt;= &lt;span class=&quot;number&quot;&gt;0xdbff&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (idx + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;lt; len(s) &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            &lt;span class=&quot;number&quot;&gt;0xdc00&lt;/span&gt; &amp;lt;= ord(s[idx + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]) &amp;lt;= &lt;span class=&quot;number&quot;&gt;0xdfff&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;comment&quot;&gt;# A valid surrogate pair&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        count = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;# Look for a base character, which may or may not be followed by a&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;comment&quot;&gt;# series of combining characters&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; cat &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; marks:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; idx + count &amp;lt; len(s):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        cat = unicodedata.category(s[idx + count])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; cat &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; marks:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            &lt;span class=&quot;comment&quot;&gt;# Finished the sequence&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        count += &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; count&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            idx += count&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;    @classmethod&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;text_element_generator&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(cls, s)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;Gets the text element generator of the specified string.&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        idx = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; length &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; cls.text_element_length_generator(s):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; s[idx:idx+length]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            idx += length&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç„¶åç®€å•æµ‹è¯•ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; __future__ &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; print_function&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; unicodedata&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; sys&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; stringinfo &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; StringInfo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; sys.maxunicode &amp;gt; &lt;span class=&quot;number&quot;&gt;0xffff&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print(&lt;span class=&quot;string&quot;&gt;&quot;Unicode encoding is UTF-32&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print(&lt;span class=&quot;string&quot;&gt;&quot;Unicode encoding is UTF-16&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    s = &lt;span class=&quot;string&quot;&gt;u&quot;Ã«Ìä¸­æ–‡ğ¤´ğªš¥&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(len(s))  &lt;span class=&quot;comment&quot;&gt;# æ ¹æ® Python æ˜¯å¦å¯ç”¨ UCS-4ï¼Œç»“æœä¸åŒï¼ŒUTF-16 ä¸‹æ˜¯ 8ï¼ŒUCS-4 ä¸‹æ˜¯ 6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    print(StringInfo(s).length_in_text_elements)  &lt;span class=&quot;comment&quot;&gt;# 5ä¸ªå­—ç¬¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; c &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; s:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print(&lt;span class=&quot;string&quot;&gt;&#39;U+&amp;#123;:04X&amp;#125;:&amp;#123;&amp;#125;&#39;&lt;/span&gt;.format(ord(c), unicodedata.category(c)))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; __name__ == &lt;span class=&quot;string&quot;&gt;&#39;__main__&#39;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    main()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;â•®(â•¯_â•°)â•­ ç»ˆäºèˆ’æœäº†ã€‚&lt;/p&gt;
&lt;p&gt;~FIN~&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;å­—ç¬¦é›†å‘æ¥éƒ½æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼Œå³ä½¿æ˜¯ Python 3.xï¼Œä¹Ÿæœ€å¤šåªæ˜¯èƒ½è¯´æ„Ÿè°¢ &lt;a href=&quot;http://en.wikipedia.org/wiki/Unicode&quot;&gt;Unicode&lt;/a&gt; å­—ç¬¦é›†ï¼Œå­—ç¬¦ä¸²çš„å­˜å–ç°åœ¨æ²¡æœ‰é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;Unicode å­—ç¬¦é›†çš„å¸¸è§&lt;strong&gt;ç¼–ç &lt;/strong&gt;æœ‰ &lt;a href=&quot;http://en.wikipedia.org/wiki/UTF-8&quot;&gt;UTF-8&lt;/a&gt;ã€&lt;a href=&quot;http://en.wikipedia.org/wiki/UTF-16&quot;&gt;UTF-16&lt;/a&gt;ã€&lt;a href=&quot;http://en.wikipedia.org/wiki/UTF-32&quot;&gt;UTF-32&lt;/a&gt; ç­‰å¸¸è§æ ¼å¼ï¼Œå¦å¤–ï¼Œ&lt;a href=&quot;http://en.wikipedia.org/wiki/GB_18030&quot;&gt;GB18030&lt;/a&gt; ä¹Ÿå¯ä»¥ç®—å…¶ä¸­ä¸€ç§ï¼ˆ GB18030ï¼Œä¸ UTF-8 ç±»ä¼¼ï¼Œæ˜¯ä¸€ç§å˜é•¿ç¼–ç æ ¼å¼ï¼Œæœ€å¤§çš„ä¼˜åŠ¿å°±æ˜¯å…¼å®¹ &lt;a href=&quot;http://en.wikipedia.org/wiki/GBK&quot;&gt;GBK&lt;/a&gt;/&lt;a href=&quot;http://en.wikipedia.org/wiki/GB2312&quot;&gt;GB2312&lt;/a&gt; ï¼‰&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ Unicode å°±èƒ½æ— ç—›çš„è§£å†³æ‰€æœ‰é—®é¢˜å—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Python" scheme="http://theo.im/tags/python/"/>
    
      <category term="Unicode" scheme="http://theo.im/tags/unicode/"/>
    
  </entry>
  
  <entry>
    <title>Golang å†…å­˜æ¨¡å‹ï¼ˆä¸€ï¼‰</title>
    <link href="http://theo.im/blog/2014/08/08/Golang-memory-part-1/"/>
    <id>http://theo.im/blog/2014/08/08/Golang-memory-part-1/</id>
    <published>2014-08-08T00:39:44.000Z</published>
    <updated>2016-05-22T13:48:23.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å¼€å§‹ä¹‹å‰&quot;&gt;&lt;a href=&quot;#å¼€å§‹ä¹‹å‰&quot; class=&quot;headerlink&quot; title=&quot;å¼€å§‹ä¹‹å‰&quot;&gt;&lt;/a&gt;å¼€å§‹ä¹‹å‰&lt;/h2&gt;&lt;p&gt;é¦–å…ˆï¼Œè¿™æ˜¯ä¸€ç¯‡èœBå†™çš„æ–‡ç« ï¼Œå¯èƒ½ä¼šæœ‰ç†è§£é”™è¯¯çš„åœ°æ–¹ï¼Œå‘ç°é”™è¯¯è¯·æ–§æ­£ï¼Œè°¢è°¢ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ²»ç–—æˆ‘çš„æ‡’ç™Œæ—©æœŸï¼Œæˆ‘ä¸€æ¬¡å°±ä¸å†™å¾—å¤ªå¤šäº†ï¼Œè¿™ä¸ªç³»åˆ—æƒ³å†™å¾ˆä¹…äº†ï¼Œæ¯æ¬¡éƒ½æ˜¯å¼€äº†ä¸ªå¤´å°±æ²¡æœ‰å†å†™ã€‚è¿™æ¬¡äº‰å–æŠŠå†™å®Œï¼Œå¼„æˆä¸€ä¸ªç³»åˆ—ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ­¤-nil-ä¸ç­‰å½¼-nil&quot;&gt;&lt;a href=&quot;#æ­¤-nil-ä¸ç­‰å½¼-nil&quot; class=&quot;headerlink&quot; title=&quot;æ­¤ nil ä¸ç­‰å½¼ nil&quot;&gt;&lt;/a&gt;æ­¤ nil ä¸ç­‰å½¼ nil&lt;/h2&gt;&lt;p&gt;&lt;em&gt;å…ˆå£°æ˜ï¼Œè¿™ä¸ªæ ‡é¢˜æœ‰æ ‡é¢˜å…šçš„å«Œç–‘ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Go çš„ç±»å‹ç³»ç»Ÿæ˜¯æ¯”è¾ƒå¥‡è‘©çš„ï¼Œ&lt;code&gt;nil&lt;/code&gt; çš„å«ä¹‰è·Ÿå…¶å®ƒè¯­è¨€æœ‰äº›å·®åˆ«ï¼Œè¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼ˆå¯ä»¥ç›´æ¥è¿›å…¥ &lt;a href=&quot;http://play.golang.org/p/ezFhXX0dnB&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://play.golang.org/p/ezFhXX0dnB&lt;/a&gt; è¿è¡ŒæŸ¥çœ‹ç»“æœï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; main&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; A &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a *A = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ai &lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt;&amp;#123;&amp;#125; = a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ei &lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt;&amp;#123;&amp;#125; = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;ai == nil: %v\n&quot;&lt;/span&gt;, ai == &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;ai == ei: %v\n&quot;&lt;/span&gt;, ai == ei)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;ei == a: %v\n&quot;&lt;/span&gt;, a == ei)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;ei == nil: %v\n&quot;&lt;/span&gt;, ei == &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// -&amp;gt; è¾“å‡º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ai == nil: false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ai == ei: false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ei == a: false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ei == nil: true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™é‡Œ &lt;code&gt;ai != nil&lt;/code&gt;ï¼Œå¯¹äºæ²¡æœ‰ç”¨è¿‡ Go çš„äººæ¥è¯´æ¯”è¾ƒè´¹è§£ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œè¿™ä¸ªç®—å¾—ä¸Šä¸€é—¨è¯­è¨€è®¾è®¡æœ‰æ­§ä¹‰çš„åœ°æ–¹ï¼ˆGolang FAQ æœ‰å¯¹äºæ­¤é—®é¢˜çš„æè¿°ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ï¼š&lt;a href=&quot;http://golang.org/doc/faq#nil_error&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://golang.org/doc/faq#nil_error&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•çš„è¯´å°±æ˜¯ nil ä»£è¡¨ â€œzero valueâ€ï¼ˆç©ºå€¼ï¼‰ï¼Œ&lt;strong&gt;å¯¹äºä¸åŒç±»å‹ï¼Œå®ƒå…·ä½“æ‰€ä»£è¡¨çš„å€¼ä¸åŒ&lt;/strong&gt;ã€‚æ¯”å¦‚ä¸Šé¢çš„ &lt;code&gt;a&lt;/code&gt; ä¸ºâ€œ&lt;code&gt;*A&lt;/code&gt; ç±»å‹çš„ç©ºå€¼â€ï¼Œè€Œ &lt;code&gt;ai&lt;/code&gt; ä¸ºâ€œ&lt;code&gt;interface{}&lt;/code&gt; ç±»å‹çš„ç©ºå€¼â€ã€‚é€ æˆç†è§£å¤±è¯¯çš„æœ€å¤§é—®é¢˜åœ¨äºï¼Œ&lt;code&gt;struct pointer&lt;/code&gt; åˆ° &lt;code&gt;interface&lt;/code&gt; æœ‰éšå¼è½¬æ¢ï¼ˆ&lt;code&gt;var ai interface{] = a&lt;/code&gt;ï¼Œè¿™é‡Œæœ‰ä¸ªéšå¼è½¬æ¢ï¼‰ï¼Œè‡³äºä¸ºä»€ä¹ˆå¯¹äº Go è¿™ç§åœ¨å…¶å®ƒè½¬æ¢æ–¹é¢è¦æ±‚ä¸¥æ ¼ï¼Œè€Œå¯¹äº &lt;code&gt;interface&lt;/code&gt; è¦é™¤å¤–å‘¢ï¼Œfor convenience å§ï¼Œå‘µå‘µâ€¦â€¦&lt;/p&gt;
&lt;p&gt;ç¢°åˆ°äº†è¿™ä¸ªå‘ï¼Œæˆ‘å°±å¼€å§‹å¥½å¥‡äº†ï¼ŒGo çš„ç±»å‹ç³»ç»Ÿåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;Go-å†…å­˜æ¨¡å‹-interface&quot;&gt;&lt;a href=&quot;#Go-å†…å­˜æ¨¡å‹-interface&quot; class=&quot;headerlink&quot; title=&quot;Go å†…å­˜æ¨¡å‹ - interface&quot;&gt;&lt;/a&gt;Go å†…å­˜æ¨¡å‹ - interface&lt;/h2&gt;&lt;h3 id=&quot;æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#æ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¿°&quot;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h3&gt;&lt;p&gt;ä¸ºäº†è¯»æ‡‚ä¸‹é¢çš„å†…å®¹ï¼Œä½ éœ€è¦ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äº†è§£ Cã€Go è¯­è¨€&lt;/li&gt;
&lt;li&gt;Go 1.3 æºä»£ç  (&lt;a href=&quot;https://go.googlecode.com/archive/go1.3.zip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://go.googlecode.com/archive/go1.3.zip&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;PS:&lt;/strong&gt; ç”±äº Go ç”¨åˆ°äº† &lt;code&gt;Plan9 C&lt;/code&gt; è¿™ä¸ªå°ä¼—çš„Cç¼–è¯‘å™¨çš„æ‰©å±•ï¼Œæ¯”å¦‚åœ¨å‡½æ•°ç­¾åä¸­ä½¿ç”¨ &lt;code&gt;Â·&lt;/code&gt; å­—ç¬¦ä»¥åŒºåˆ† package/functionï¼ˆæ¯”å¦‚&lt;code&gt;runtimeÂ·panic&lt;/code&gt;ï¼‰ï¼Œè¿™å¯¹ç†è§£ä¸ä¼šäº§ç”Ÿä»€ä¹ˆå½±å“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PSS:&lt;/strong&gt; å¯¹äº Go runtimeï¼Œå¯ä»¥å‚è€ƒ&lt;code&gt;src/pkg/reflect&lt;/code&gt;ï¼ˆ&lt;code&gt;reflect&lt;/code&gt;åŒ…ï¼‰ä¸­çš„çš„ä»£ç ï¼Œå¯¹ç±»å‹ç³»ç»Ÿçš„å®ç°çš„ç†è§£æœ‰å¸®åŠ©ã€‚&lt;/p&gt;
&lt;p&gt;Go è¯­è¨€çš„ç±»å‹å®šä¹‰å¯ä»¥åœ¨ &lt;code&gt;src/pkg/runtime/&lt;/code&gt; ç›®å½•ä¸‹æ‰¾åˆ°ï¼Œä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶æ„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;runtime.h&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;type.h&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äº &lt;code&gt;interface&lt;/code&gt; ç±»å‹ï¼Œä¸»è¦çœ‹ä¸‹é¢å‡ ä¸ªç»“æ„ä½“å®šä¹‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;InterfaceType&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Itab&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Iface&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Eface&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®ƒä»¬çš„Cè¯­è¨€å®šä¹‰å¦‚ä¸‹ (å¯ä»¥åœ¨ &lt;code&gt;runtime.h&lt;/code&gt; ä¸­æ‰¾åˆ°)ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;InterfaceType:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»£è¡¨äº†æ€»çš„ interface ç±»å‹ï¼Œå…¶ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Type: ç±»å‹æè¿°ï¼Œæ‰€æœ‰çš„ç±»å‹éƒ½æœ‰è¿™ä¸ªç±»å‹æè¿°ï¼ˆæ¯”å¦‚ array, map, sliceï¼‰&lt;/li&gt;
&lt;li&gt;mhdr ä»¥åŠ m: interface æ¥å£æ–¹æ³•åˆ—è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; InterfaceType&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Type;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Slice mhdr;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    IMethod m[];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;Itab:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼äºè™šå‡½æ•°è¡¨ï¼Œè¯¥è¡¨ä¸ä¼šè¢«GCå›æ”¶ï¼Œå…¶ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;inter: æŒ‡å‘å…·ä½“çš„ interface ç±»å‹&lt;/li&gt;
&lt;li&gt;type: å…·ä½“å®ç°ç±»å‹, ä¹Ÿå³ receiver type&lt;/li&gt;
&lt;li&gt;link: æŒ‡å‘ä¸‹ä¸€ä¸ªå‡½æ•°è¡¨ï¼Œå› ä¸º interface å¯ä»¥ embed å¤šä¸ª interfaceï¼Œå› æ­¤å®ç°ä¸ºä¸€ä¸ªé“¾è¡¨å½¢å¼&lt;/li&gt;
&lt;li&gt;bad: &amp;lt;ç•¥&amp;gt;&lt;/li&gt;
&lt;li&gt;unsued: &amp;lt;ç•¥&amp;gt;&lt;/li&gt;
&lt;li&gt;fun: å‡½æ•°åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªæŒ‡å‘å…·ä½“å‡½æ•°å®ç°çš„æŒ‡é’ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt;  Itab&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    InterfaceType*  inter;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Type*   type;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Itab*   link;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int32   bad;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    int32   unused;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;    (*fun[])(&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;Iface:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¯¥ç±»å‹ä¸ºä¸€èˆ¬çš„ &lt;code&gt;interface&lt;/code&gt; ç±»å‹æ‰€å¯¹åº”çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tab: å‚è§ &lt;code&gt;Itab&lt;/code&gt; çš„è¯´æ˜ï¼Œå°¤å…¶æ˜¯ &lt;code&gt;Itab::link&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;data: æŒ‡å‘å…·ä½“æ•°æ®ï¼ˆæ¯”å¦‚æŒ‡å‘structï¼Œå½“ç„¶ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®ä¸è¶…è¿‡ä¸€ä¸ªå­—é•¿ï¼Œé‚£ä¹ˆè¿™ä¸ªdataå°±å¯ä»¥ç›´æ¥å­˜æ”¾ï¼Œä¸éœ€è¦æŒ‡é’ˆå†åšä»¥åŠè·³è½¬ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; Iface&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Itab*   tab;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;*   data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;Eface:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¯¥ç±»å‹ä¸º &lt;code&gt;interface{}&lt;/code&gt; (empty interface) æ‰€å¯¹åº”çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;type: å…·ä½“å®ç°ç±»å‹, ä¹Ÿå³ receiver type&lt;/li&gt;
&lt;li&gt;data: åŒ &lt;code&gt;Iface&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; Eface&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Type*   type;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt;*   data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä»–ä»¬çš„ä¾èµ–å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://theo-im.qiniudn.com/images/graph/20140808-interface-deps.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;å…ˆåˆ°è¿™é‡Œï¼Œä¸‹ä¸€ç¯‡å°†ä¼šä¸¾ä¾‹å­è¯´æ˜ç»™ä¸€ä¸ª &lt;code&gt;interface{}&lt;/code&gt; ç±»å‹çš„å˜é‡èµ‹å€¼åï¼Œå…¶å…·ä½“çš„å†…å­˜ç»“æ„æ˜¯æ€ä¹ˆæ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰“äº†å‡ ä¸ªå°æ—¶ï¼ŒçœŸè´¹æ—¶é—´ï¼Œäº‰å–è¿™ä¸ªç³»åˆ—ä¸å‘ (é€ƒ&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å¼€å§‹ä¹‹å‰&quot;&gt;&lt;a href=&quot;#å¼€å§‹ä¹‹å‰&quot; class=&quot;headerlink&quot; title=&quot;å¼€å§‹ä¹‹å‰&quot;&gt;&lt;/a&gt;å¼€å§‹ä¹‹å‰&lt;/h2&gt;&lt;p&gt;é¦–å…ˆï¼Œè¿™æ˜¯ä¸€ç¯‡èœBå†™çš„æ–‡ç« ï¼Œå¯èƒ½ä¼šæœ‰ç†è§£é”™è¯¯çš„åœ°æ–¹ï¼Œå‘ç°é”™è¯¯è¯·æ–§æ­£ï¼Œè°¢è°¢ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ²»ç–—æˆ‘çš„æ‡’ç™Œæ—©æœŸï¼Œæˆ‘ä¸€æ¬¡å°±ä¸å†™å¾—å¤ªå¤šäº†ï¼Œè¿™ä¸ªç³»åˆ—æƒ³å†™å¾ˆä¹…äº†ï¼Œæ¯æ¬¡éƒ½æ˜¯å¼€äº†ä¸ªå¤´å°±æ²¡æœ‰å†å†™ã€‚è¿™æ¬¡äº‰å–æŠŠå†™å®Œï¼Œå¼„æˆä¸€ä¸ªç³»åˆ—ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ­¤-nil-ä¸ç­‰å½¼-nil&quot;&gt;&lt;a href=&quot;#æ­¤-nil-ä¸ç­‰å½¼-nil&quot; class=&quot;headerlink&quot; title=&quot;æ­¤ nil ä¸ç­‰å½¼ nil&quot;&gt;&lt;/a&gt;æ­¤ nil ä¸ç­‰å½¼ nil&lt;/h2&gt;&lt;p&gt;&lt;em&gt;å…ˆå£°æ˜ï¼Œè¿™ä¸ªæ ‡é¢˜æœ‰æ ‡é¢˜å…šçš„å«Œç–‘ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Go çš„ç±»å‹ç³»ç»Ÿæ˜¯æ¯”è¾ƒå¥‡è‘©çš„ï¼Œ&lt;code&gt;nil&lt;/code&gt; çš„å«ä¹‰è·Ÿå…¶å®ƒè¯­è¨€æœ‰äº›å·®åˆ«ï¼Œè¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼ˆå¯ä»¥ç›´æ¥è¿›å…¥ &lt;a href=&quot;http://play.golang.org/p/ezFhXX0dnB&quot;&gt;http://play.golang.org/p/ezFhXX0dnB&lt;/a&gt; è¿è¡ŒæŸ¥çœ‹ç»“æœï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; main&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; A &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a *A = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ai &lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt;&amp;#123;&amp;#125; = a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ei &lt;span class=&quot;keyword&quot;&gt;interface&lt;/span&gt;&amp;#123;&amp;#125; = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;ai == nil: %v\n&quot;&lt;/span&gt;, ai == &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;ai == ei: %v\n&quot;&lt;/span&gt;, ai == ei)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;ei == a: %v\n&quot;&lt;/span&gt;, a == ei)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fmt.Printf(&lt;span class=&quot;string&quot;&gt;&quot;ei == nil: %v\n&quot;&lt;/span&gt;, ei == &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// -&amp;gt; è¾“å‡º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ai == nil: false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ai == ei: false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ei == a: false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ei == nil: true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™é‡Œ &lt;code&gt;ai != nil&lt;/code&gt;ï¼Œå¯¹äºæ²¡æœ‰ç”¨è¿‡ Go çš„äººæ¥è¯´æ¯”è¾ƒè´¹è§£ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œè¿™ä¸ªç®—å¾—ä¸Šä¸€é—¨è¯­è¨€è®¾è®¡æœ‰æ­§ä¹‰çš„åœ°æ–¹ï¼ˆGolang FAQ æœ‰å¯¹äºæ­¤é—®é¢˜çš„æè¿°ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ï¼š&lt;a href=&quot;http://golang.org/doc/faq#nil_error&quot;&gt;http://golang.org/doc/faq#nil_error&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•çš„è¯´å°±æ˜¯ nil ä»£è¡¨ â€œzero valueâ€ï¼ˆç©ºå€¼ï¼‰ï¼Œ&lt;strong&gt;å¯¹äºä¸åŒç±»å‹ï¼Œå®ƒå…·ä½“æ‰€ä»£è¡¨çš„å€¼ä¸åŒ&lt;/strong&gt;ã€‚æ¯”å¦‚ä¸Šé¢çš„ &lt;code&gt;a&lt;/code&gt; ä¸ºâ€œ&lt;code&gt;*A&lt;/code&gt; ç±»å‹çš„ç©ºå€¼â€ï¼Œè€Œ &lt;code&gt;ai&lt;/code&gt; ä¸ºâ€œ&lt;code&gt;interface{}&lt;/code&gt; ç±»å‹çš„ç©ºå€¼â€ã€‚é€ æˆç†è§£å¤±è¯¯çš„æœ€å¤§é—®é¢˜åœ¨äºï¼Œ&lt;code&gt;struct pointer&lt;/code&gt; åˆ° &lt;code&gt;interface&lt;/code&gt; æœ‰éšå¼è½¬æ¢ï¼ˆ&lt;code&gt;var ai interface{] = a&lt;/code&gt;ï¼Œè¿™é‡Œæœ‰ä¸ªéšå¼è½¬æ¢ï¼‰ï¼Œè‡³äºä¸ºä»€ä¹ˆå¯¹äº Go è¿™ç§åœ¨å…¶å®ƒè½¬æ¢æ–¹é¢è¦æ±‚ä¸¥æ ¼ï¼Œè€Œå¯¹äº &lt;code&gt;interface&lt;/code&gt; è¦é™¤å¤–å‘¢ï¼Œfor convenience å§ï¼Œå‘µå‘µâ€¦â€¦&lt;/p&gt;
&lt;p&gt;ç¢°åˆ°äº†è¿™ä¸ªå‘ï¼Œæˆ‘å°±å¼€å§‹å¥½å¥‡äº†ï¼ŒGo çš„ç±»å‹ç³»ç»Ÿåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Go" scheme="http://theo.im/tags/go/"/>
    
      <category term="Golang" scheme="http://theo.im/tags/golang/"/>
    
  </entry>
  
  <entry>
    <title>åˆ é™¤ Intel HD Graphics æ˜¾å¡å·¥å…·çš„å…¨å±€å¿«æ·é”®</title>
    <link href="http://theo.im/blog/2014/08/07/Remove-Intel-HD-Graphics-Hotkeys/"/>
    <id>http://theo.im/blog/2014/08/07/Remove-Intel-HD-Graphics-Hotkeys/</id>
    <published>2014-08-07T02:44:43.000Z</published>
    <updated>2016-05-22T13:48:29.000Z</updated>
    
    <content type="html">&lt;p&gt;Intelçš„å†…ç½®æ˜¾å¡å·¥å…·æ€»æ˜¯æ³¨å†Œå…¨å±€çš„å¿«æ·é”®ï¼Œè€Œä¸”è¿˜æ˜¯å¸¸ç”¨çš„ï¼ˆæ¯”å¦‚ &lt;code&gt;Sublime Text&lt;/code&gt;, &lt;code&gt;PyCharm&lt;/code&gt;ç­‰å·¥å…·çš„é»˜è®¤æŒ‰é”®ç»‘å®šï¼‰ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ctrl + Shift + Up&lt;/li&gt;
&lt;li&gt;Ctrl + Shift + Down&lt;/li&gt;
&lt;li&gt;Ctrl + Shift + Left&lt;/li&gt;
&lt;li&gt;Ctrl + Shift + Right&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›å¿«æ·é”®éƒ½æ˜¯ç”± &lt;code&gt;igfxHK.exe&lt;/code&gt; æ³¨å†Œçš„ï¼Œè™½ç„¶å¯ä»¥åœ¨ä»»åŠ¡æ ä¸­ç‚¹å‡»ç¦ç”¨å¿«æ·é”®ï¼Œä½†æ˜¯ç”±äºå¿«æ·é”®æ˜¯å…¨å±€æ³¨å†Œï¼Œå…¶å®ƒåº”ç”¨ç¨‹åºä»ç„¶ä¸èƒ½ä½¿ç”¨è¿™äº›å¿«æ·é”®ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶ä½¿ç”¨ &lt;code&gt;taskkill /IM igfxHK.exe&lt;/code&gt; æ¥å¼ºè¡Œç»ˆæ­¢å…¶è¿›ç¨‹ï¼Œé‡Šæ”¾å…¨å±€å¿«æ·é”®ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯æ¯æ¬¡é‡å¯éƒ½è¦é‡æ–°åšä¸€æ¬¡ï¼Œæ— è®ºæ˜¯å¦è‡ªåŠ¨åŒ–ï¼Œéƒ½æ„Ÿè§‰å¤ªäºŒé€¼äº†ï¼Œç»è¿‡ä¸€ç•ªçæ£ï¼Œå‘ç°å¯ä»¥é€šè¿‡è¯¥æ³¨å†Œè¡¨ï¼ŒæŠŠå¿«æ·é”®å®šä¹‰å…¨éƒ¨åˆ é™¤æ‰ï¼Œé¿å… &lt;code&gt;igfxHK.exe&lt;/code&gt;
å æœ‰è¿™äº›å…¨å±€å¿«æ·é”®ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨å†Œè¡¨æ–‡ä»¶å¦‚ä¸‹ï¼Œä¿å­˜ä¸ºä¸€ä¸ª &lt;code&gt;.reg&lt;/code&gt; æ–‡ä»¶æœ€ååŒå‡»è¿è¡Œå¹¶å¯¼å…¥åˆ°æ³¨å†Œè¡¨å³å¯ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Windows Registry Editor Version 5.00&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[HKEY_CURRENT_USER\Software\Intel\Display\igfxcui\HotKeys]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;3101&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;3105&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;3121&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;9530&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;3106&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;3107&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;3108&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;3109&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;3110&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;4528&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;10&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;11&amp;quot;=-&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Intelçš„å†…ç½®æ˜¾å¡å·¥å…·æ€»æ˜¯æ³¨å†Œå…¨å±€çš„å¿«æ·é”®ï¼Œè€Œä¸”è¿˜æ˜¯å¸¸ç”¨çš„ï¼ˆæ¯”å¦‚ &lt;code&gt;Sublime Text&lt;/code&gt;, &lt;code&gt;PyCharm&lt;/code&gt;ç­‰å·¥å…·çš„é»˜è®¤æŒ‰é”®ç»‘å®šï¼‰ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ctrl + Shift + Up&lt;/li&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="Miscellaneous" scheme="http://theo.im/blog/categories/miscellaneous/"/>
    
    
  </entry>
  
  <entry>
    <title>VirtualBoxä¸æ€æ¯’è½¯ä»¶å†²çªå¯¼è‡´è™šæ‹Ÿæœºæ— æ³•å¯åŠ¨: é”™è¯¯ &quot;supR3HardenedWinReSpawn&quot;</title>
    <link href="http://theo.im/blog/2014/08/05/VirtualBox-error-launching-vm-instance-in-supR3HardenedWinReSpawn/"/>
    <id>http://theo.im/blog/2014/08/05/VirtualBox-error-launching-vm-instance-in-supR3HardenedWinReSpawn/</id>
    <published>2014-08-05T05:29:44.000Z</published>
    <updated>2016-05-22T13:49:12.000Z</updated>
    
    <content type="html">&lt;p&gt;ä»Šå¤©åœ¨å…¬å¸æœºå™¨ä¸Šè£…äº† VirtualBox (ç‰ˆæœ¬ 4.3.14) å’Œ Vagrant, åœ¨è¿è¡Œ &lt;code&gt;vagrant up&lt;/code&gt; åæ€»æ˜¯æç¤ºè™šæ‹Ÿæœºä¸èƒ½å¯åŠ¨çš„é”™è¯¯ã€‚æ‰“å¼€ VirtualBox ç„¶åæ‰‹åŠ¨å¯åŠ¨è™šæ‹Ÿæœºå‘ç°å¦‚ä¸‹é”™è¯¯æ¡†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://theo-im.qiniudn.com/images/virtualbox-error.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;---------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;VirtualBox - Error In supR3HardenedWinReSpawn&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Error relaunching VirtualBox VM process: 5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Command line: &amp;apos;81954AF5-4D2F-31EB-A142-B7AF187A1C41-suplib-2ndchild --comment Work_default_1407215688716_8404 --startvm 93cdc421-ae20-49d6-8ca4-6c5570f809cd --no-startvm-errormsgbox&amp;apos; (rc=-104)/&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---------------------------&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åŸå› :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ Symantec Endpoint Protection å†²çª&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸´æ—¶è§£å†³åŠæ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ 4.3.12 ç‰ˆæœ¬çš„ VirtualBoxï¼Œ&lt;a href=&quot;https://www.virtualbox.org/wiki/Download_Old_Builds_4_3&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ç‚¹å‡»è¿™é‡Œä¸‹è½½&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt; é™çº§ VirtualBox åéœ€è¦é‡æ–°å¯åŠ¨è®¡ç®—æœº&lt;/p&gt;
&lt;p&gt;å¦å¤–å¯ä»¥&lt;a href=&quot;https://forums.virtualbox.org/viewtopic.php?f=6&amp;amp;t=62615&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å‚è€ƒVirtualBox è®ºå›çš„è®¨è®º&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åœ¨å…¬å¸æœºå™¨ä¸Šè£…äº† VirtualBox (ç‰ˆæœ¬ 4.3.14) å’Œ Vagrant, åœ¨è¿è¡Œ &lt;code&gt;vagrant up&lt;/code&gt; åæ€»æ˜¯æç¤ºè™šæ‹Ÿæœºä¸èƒ½å¯åŠ¨çš„é”™è¯¯ã€‚æ‰“å¼€ VirtualBox ç„¶åæ‰‹åŠ¨å¯åŠ¨è™šæ‹Ÿæœºå‘ç°å¦‚ä¸‹é”™è¯¯æ¡†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=
    
    </summary>
    
      <category term="Miscellaneous" scheme="http://theo.im/blog/categories/miscellaneous/"/>
    
    
      <category term="Vagrant" scheme="http://theo.im/tags/vagrant/"/>
    
      <category term="VirtualBox" scheme="http://theo.im/tags/virtualbox/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨ Go ä¸­è·å– stacktrace</title>
    <link href="http://theo.im/blog/2014/07/21/Printing-stacktrace-in-Go/"/>
    <id>http://theo.im/blog/2014/07/21/Printing-stacktrace-in-Go/</id>
    <published>2014-07-21T13:30:12.000Z</published>
    <updated>2016-05-21T15:40:47.000Z</updated>
    
    <content type="html">&lt;figure class=&quot;highlight go&quot;&gt;&lt;figcaption&gt;&lt;span&gt;æ‰“å° stacktrace&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;buf := &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;([]&lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// è·å– **æ‰€æœ‰** goroutine çš„ stacktrace&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.Stack(buf, &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¦‚æœéœ€è¦è·å– **å½“å‰** goroutine çš„ stacktrace, ç¬¬äºŒä¸ªå‚æ•°éœ€è¦ä¸º `false`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;runtime.Stack(buf, &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fmt.Println(&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;(buf))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¤ªè¯¡å¼‚äº†ï¼Œå±…ç„¶è¦æŒ‡å®š buffer çš„å¤§å°ï¼Œç”¨èµ·æ¥ä¸æ–¹ä¾¿ã€‚è™½ç„¶å¯ä»¥ç»™ä¸ªâ€œè¶³å¤Ÿå¤§â€ buffer ç”¨æ¥å®¹çº³
stacktraceï¼Œä½†æ˜¯ä»€ä¹ˆæ˜¯â€œè¶³å¤Ÿå¤§â€ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸ºäº†ç¡®è®¤ &lt;code&gt;runtime.Stack()&lt;/code&gt; å‡½æ•°çš„ behaviorï¼Œéœ€è¦å‚è€ƒä¸€ä¸‹ Go è¾“å‡º stacktrace çš„å®ç°ä»£ç ã€‚è¯¥ä»£ç æ˜¯ä½¿ç”¨ &lt;a href=&quot;https://code.google.com/p/go/source/browse/src/cmd/dist/goc2c.c&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GOC&lt;/a&gt; å†™æˆçš„ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A .goc file is a combination of a limited form of Go with C.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;figcaption&gt;&lt;span&gt;mprof.goc&lt;/span&gt;&lt;a href=&quot;https://code.google.com/p/go/source/browse/src/pkg/runtime/mprof.goc?name=release-branch.go1.3#382&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;link&lt;/a&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Stack&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(b Slice, all &lt;span class=&quot;keyword&quot;&gt;bool&lt;/span&gt;)&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(n &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;uintptr&lt;/span&gt; pc, sp;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Stack pointer&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    sp = runtimeÂ·getcallersp(&amp;amp;b);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Programer pointer&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    pc = (&lt;span class=&quot;keyword&quot;&gt;uintptr&lt;/span&gt;)runtimeÂ·getcallerpc(&amp;amp;b);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// å¦‚æœé€‰æ‹©è¾“å‡ºæ‰€æœ‰ goroutine çš„ traceback, æŒ‚èµ·æ‰€æœ‰goroutine,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åœ¨æœ¬å‡½æ•°å®Œæˆåæ¢å¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(all) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        runtimeÂ·semacquire(&amp;amp;runtimeÂ·worldsema, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        m-&amp;gt;gcing = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        runtimeÂ·stoptheworld();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(b.&lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt; == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        n = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// é‡å®šå‘è¾“å‡ºç¼“å†², æ‰“å°åˆ° `b` è¿™ä¸ªbufferé‡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        g-&amp;gt;writebuf = (&lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;*)b.array;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// bufferå…·æœ‰å›ºå®šå¤§å°, å› æ­¤ä¼šæˆªæ–­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        g-&amp;gt;writenbuf = b.&lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// proc.c: runtimeÂ·goroutineheader&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        runtimeÂ·goroutineheader(g);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// traceback_$&amp;#123;arch&amp;#125;.c&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        runtimeÂ·traceback(pc, sp, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, g);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(all)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            runtimeÂ·tracebackothers(g);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        n = b.&lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt; - g-&amp;gt;writenbuf;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        g-&amp;gt;writebuf = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        g-&amp;gt;writenbuf = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(all) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        m-&amp;gt;gcing = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        runtimeÂ·semrelease(&amp;amp;runtimeÂ·worldsema);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        runtimeÂ·starttheworld();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å› ä¸ºæ‰“å°åˆ°bufferä¼šæˆªæ–­è¿‡é•¿çš„ç»“æœï¼Œå› æ­¤å¯ä»¥å†™ä¸€ä¸ªåŒ…è£…å‡½æ•°ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;StackTrace&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(all &lt;span class=&quot;keyword&quot;&gt;bool&lt;/span&gt;)&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;string&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// Reserve 10K buffer at first&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    buf := &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;([]&lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10240&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        size := runtime.Stack(buf, all)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// The size of the buffer may be not enough to hold the stacktrace,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// so double the buffer size&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; size == &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(buf) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            buf = &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;([]&lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(buf)&amp;lt;&amp;lt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;continue&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;(buf)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¾‹å­å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼š&lt;a href=&quot;http://play.golang.org/p/4ABrCVbH9g&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Go Playground&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight go&quot;&gt;&lt;figcaption&gt;&lt;span&gt;æ‰“å° stacktrace&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/spa
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Go" scheme="http://theo.im/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒæœåŠ¡å™¨</title>
    <link href="http://theo.im/blog/2014/05/20/use-aliyun-mirror-to-boost-up-download-speed/"/>
    <id>http://theo.im/blog/2014/05/20/use-aliyun-mirror-to-boost-up-download-speed/</id>
    <published>2014-05-20T03:40:29.000Z</published>
    <updated>2016-05-21T15:40:47.000Z</updated>
    
    <content type="html">&lt;p&gt;æœ€è¿‘æœ¬æœºè®¿é—® &lt;code&gt;163.com&lt;/code&gt; çš„ &lt;code&gt;CentOS&lt;/code&gt; é•œåƒæ¯”è¾ƒä¸ç¨³å®šï¼Œä½“ç°åœ¨ ping å¾ˆä½ï¼Œä½†æ˜¯ HTTP
è¿æ¥å¾ˆæ…¢ï¼Œ&lt;code&gt;yum&lt;/code&gt; çš„ &lt;code&gt;fastestmirror&lt;/code&gt; ä¹Ÿä¸å¤ªç†æƒ³ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½ç¦ç”¨ä¹‹ã€‚&lt;/p&gt;
&lt;p&gt;å‘ç°é˜¿é‡Œäº‘çš„é•œåƒæœåŠ¡å™¨ï¼Œç«‹é©¬æ¢äº†ï¼Œä¾¿ç§˜ç«‹åˆ»å°±é€šäº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;yum-é•œåƒ&quot;&gt;&lt;a href=&quot;#yum-é•œåƒ&quot; class=&quot;headerlink&quot; title=&quot;yum é•œåƒ&quot;&gt;&lt;/a&gt;yum é•œåƒ&lt;/h2&gt;&lt;h3 id=&quot;å®˜æ–¹æºé•œåƒ&quot;&gt;&lt;a href=&quot;#å®˜æ–¹æºé•œåƒ&quot; class=&quot;headerlink&quot; title=&quot;å®˜æ–¹æºé•œåƒ&quot;&gt;&lt;/a&gt;å®˜æ–¹æºé•œåƒ&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ç¦ç”¨ fastestmirror æ’ä»¶&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sed -i.backup &lt;span class=&quot;string&quot;&gt;&#39;s/^enabled=1/enabled=0/&#39;&lt;/span&gt; /etc/yum/pluginconf.d/fastestmirror.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# å¤‡ä»½&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget -O /etc/yum.repos.d/CentOS-Base-aliyun.repo http://mirrors.aliyun.com/repo/Centos-6.repo&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;EPEL-é•œåƒ&quot;&gt;&lt;a href=&quot;#EPEL-é•œåƒ&quot; class=&quot;headerlink&quot; title=&quot;EPEL é•œåƒ&quot;&gt;&lt;/a&gt;EPEL é•œåƒ&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# å®‰è£… EPEL æº&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget http://rpms.famillecollet.com/enterprise/remi-release-6.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rpm -Uvh remi-release-6*.rpm epel-release-6*.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [[ ! &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; /etc/yum.repos.d/epel.repo.backup ]]; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mv /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.backup 2&amp;gt;/dev/null || :&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [[ ! &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; /etc/yum.repos.d/epel-testing.repo.backup ]]; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    mv /etc/yum.repos.d/epel-testing.repo /etc/yum.repos.d/epel-testing.repo.backup 2&amp;gt;/dev/null || :&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-6.repo&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;PyPi-é•œåƒ&quot;&gt;&lt;a href=&quot;#PyPi-é•œåƒ&quot; class=&quot;headerlink&quot; title=&quot;PyPi é•œåƒ&quot;&gt;&lt;/a&gt;PyPi é•œåƒ&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mkdir -p ~/.pip&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;touch ~/.pip/pip.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sed -i.backup -r \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&#39;s/^index-url\s*=\s*.+$/index-url = http:\/\/mirrors.aliyun.com\/pypi\/simple\//&#39;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ~/.pip/pip.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# If file not changed, write contents back to pip.conf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;diff &lt;span class=&quot;string&quot;&gt;&quot;~/.pip/pip.conf&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;~/.pip/pip.conf.backup&quot;&lt;/span&gt; &amp;amp;&amp;gt; /dev/null&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; [ $? &lt;span class=&quot;_&quot;&gt;-eq&lt;/span&gt; 0 ]; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cat &amp;gt; ~/.pip/pip.conf &amp;lt;&amp;lt;EOF&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[global]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;index-url = http://mirrors.aliyun.com/pypi/simple/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;EOF&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;RubyGems-é•œåƒ&quot;&gt;&lt;a href=&quot;#RubyGems-é•œåƒ&quot; class=&quot;headerlink&quot; title=&quot;RubyGems é•œåƒ&quot;&gt;&lt;/a&gt;RubyGems é•œåƒ&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;gem &lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt; -r https://rubygems.org/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gem &lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; http://mirrors.aliyun.com/rubygems/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘æœ¬æœºè®¿é—® &lt;code&gt;163.com&lt;/code&gt; çš„ &lt;code&gt;CentOS&lt;/code&gt; é•œåƒæ¯”è¾ƒä¸ç¨³å®šï¼Œä½“ç°åœ¨ ping å¾ˆä½ï¼Œä½†æ˜¯ HTTP
è¿æ¥å¾ˆæ…¢ï¼Œ&lt;code&gt;yum&lt;/code&gt; çš„ &lt;code&gt;fastestmirror&lt;/code&gt; ä¹Ÿä¸å¤ªç†æƒ³ï¼Œæ‰€ä»¥
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ FPM åˆ›å»º Python çš„ RPM åŒ…</title>
    <link href="http://theo.im/blog/2014/05/16/use-fpm-to-create-python-rpm-packages/"/>
    <id>http://theo.im/blog/2014/05/16/use-fpm-to-create-python-rpm-packages/</id>
    <published>2014-05-16T01:03:33.000Z</published>
    <updated>2016-05-22T13:48:50.000Z</updated>
    
    <content type="html">&lt;p&gt;ç”Ÿæˆ RPM åŒ…å¤ªéº»çƒ¦äº†ï¼Œæœ€è¿‘çŸ¥é“äº†ä¸€ä¸ªåä¸º &lt;a href=&quot;https://github.com/jordansissel/fpm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;FPM&lt;/a&gt; çš„ç¥å™¨ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®‰è£…-FPM&quot;&gt;&lt;a href=&quot;#å®‰è£…-FPM&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£… FPM&quot;&gt;&lt;/a&gt;å®‰è£… FPM&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; æµ‹è¯•ç³»ç»Ÿä¸º RedHat ç³»çš„ CentOS 6.3ï¼Œç¼–è¯‘ Python 2.7.6 çš„ RPM åŒ…ã€‚&lt;/p&gt;
&lt;h3 id=&quot;å®‰è£…-Ruby&quot;&gt;&lt;a href=&quot;#å®‰è£…-Ruby&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£… Ruby&quot;&gt;&lt;/a&gt;å®‰è£… Ruby&lt;/h3&gt;&lt;p&gt;ç”±äº &lt;a href=&quot;https://github.com/jordansissel/fpm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;FPM&lt;/a&gt; ä½¿ç”¨ &lt;code&gt;Ruby&lt;/code&gt; å†™æˆï¼Œå› æ­¤ç³»ç»Ÿä¸­éœ€è¦å®‰è£… &lt;code&gt;Ruby&lt;/code&gt; çš„è¿è¡Œç¯å¢ƒï¼ˆè¿™é‡Œ &lt;code&gt;gem&lt;/code&gt; çš„æºæ”¹ä¸ºäº† taobao çš„é•œåƒï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Install ruby dependencies&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum -y install ruby rubygems ruby-devel&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Use taobao repo for ruby gems&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gem sources &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; http://ruby.taobao.org/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Remove origin repo from ruby gems&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gem sources --remove http://rubygems.org/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;é€šè¿‡-Gem-å®‰è£…-FPM&quot;&gt;&lt;a href=&quot;#é€šè¿‡-Gem-å®‰è£…-FPM&quot; class=&quot;headerlink&quot; title=&quot;é€šè¿‡ Gem å®‰è£… FPM&quot;&gt;&lt;/a&gt;é€šè¿‡ Gem å®‰è£… FPM&lt;/h3&gt;&lt;p&gt;åœ¨ &lt;code&gt;Ruby&lt;/code&gt; å®‰è£…å®Œæˆåï¼Œå°±å¯ä»¥ä½¿ç”¨ &lt;code&gt;gem&lt;/code&gt; å®‰è£… &lt;a href=&quot;https://github.com/jordansissel/fpm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;FPM&lt;/a&gt; äº†ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Install fpm&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;gem install fpm&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Good.&lt;/p&gt;
&lt;h2 id=&quot;è®¾ç½®ç¼–è¯‘ç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#è®¾ç½®ç¼–è¯‘ç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;è®¾ç½®ç¼–è¯‘ç¯å¢ƒ&quot;&gt;&lt;/a&gt;è®¾ç½®ç¼–è¯‘ç¯å¢ƒ&lt;/h2&gt;&lt;p&gt;åœ¨ç¼–è¯‘ Python ä¹‹å‰ï¼Œéœ€è¦å®‰è£…å¼€å‘å·¥å…·å’Œåº“:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Install EPEL repository&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget http://rpms.famillecollet.com/enterprise/remi-release-6.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rpm -Uvh remi-release-6*.rpm epel-release-6*.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Install build toolchain&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum -y groupinstall &lt;span class=&quot;string&quot;&gt;&quot;Development tools&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum -y install openssl-devel readline-devel bzip2-devel sqlite-devel zlib-devel ncurses-devel db4-devel expat-devel&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;ç¼–è¯‘å¹¶åˆ›å»º-Python-çš„-RPM-åŒ…&quot;&gt;&lt;a href=&quot;#ç¼–è¯‘å¹¶åˆ›å»º-Python-çš„-RPM-åŒ…&quot; class=&quot;headerlink&quot; title=&quot;ç¼–è¯‘å¹¶åˆ›å»º Python çš„ RPM åŒ…&quot;&gt;&lt;/a&gt;ç¼–è¯‘å¹¶åˆ›å»º Python çš„ RPM åŒ…&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/jordansissel/fpm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;FPM&lt;/a&gt; çš„ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥å‚è€ƒ &lt;a href=&quot;https://github.com/jordansissel/fpm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;FPM&lt;/a&gt; çš„ &lt;a href=&quot;https://github.com/jordansissel/fpm/wiki&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ä½¿ç”¨è¯´æ˜&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œä¸‹è½½ Python-2.7.6 çš„æºç åŒ…å¹¶è§£å‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl --progress-bar -LO http://mirrors.sohu.com/python/2.7.6/Python-2.7.6.tgz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tar xf Python-2.7.6.tgz&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç¬¬äºŒæ­¥ï¼Œç¼–è¯‘ Python-2.7.6&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; Python-2.7.6.tgz&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Python2.7ç¼–è¯‘å®‰è£…åä¼šå®‰è£…åˆ°è¿™ä¸ªç›®å½•ï¼Œæ–¹ä¾¿æ‰“åŒ…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; INTERMEDIATE_INSTALL_DIR=/tmp/installdir-Python-2.7.6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# RPMåŒ…å®‰è£…åPython2.7çš„ç›®å½•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;export&lt;/span&gt; INSTALL_DIR=/usr/&lt;span class=&quot;built_in&quot;&gt;local&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;LDFLAGS=&lt;span class=&quot;string&quot;&gt;&quot;-Wl,-rpath=&lt;span class=&quot;variable&quot;&gt;$&amp;#123;INSTALL_DIR&amp;#125;&lt;/span&gt;/lib &lt;span class=&quot;variable&quot;&gt;$&amp;#123;LDFLAGS&amp;#125;&lt;/span&gt;&quot;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            ./configure --prefix=&lt;span class=&quot;variable&quot;&gt;$&amp;#123;INSTALL_DIR&amp;#125;&lt;/span&gt; --enable-unicode=ucs4 \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                --enable-shared --enable-ipv6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;make&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;make install DESTDIR=&lt;span class=&quot;variable&quot;&gt;$&amp;#123;INTERMEDIATE_INSTALL_DIR&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç¬¬ä¸‰æ­¥ï¼Œä½¿ç”¨ &lt;a href=&quot;https://github.com/jordansissel/fpm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;FPM&lt;/a&gt; åˆ›å»º RPM åŒ…ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# æ³¨æ„ä¹‹å‰å¯¼å‡º INTERMEDIATE_INSTALL_DIR å’Œ INSTALL_DIR è¿™ä¸¤ä¸ªç¯å¢ƒå˜é‡ï¼Œè¿™é‡Œè¿˜è¦ä½¿ç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fpm &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; dir -t &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; rpm -n python27 -v &lt;span class=&quot;string&quot;&gt;&#39;2.7.6&#39;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;openssl&#39;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;bzip2&#39;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;zlib&#39;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;expat&#39;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;db4&#39;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;sqlite&#39;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;ncurses&#39;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;readline&#39;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    --directories=&lt;span class=&quot;variable&quot;&gt;$&amp;#123;INSTALL_DIR&amp;#125;&lt;/span&gt;/lib/python2.7/ \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    --directories=&lt;span class=&quot;variable&quot;&gt;$&amp;#123;INSTALL_DIR&amp;#125;&lt;/span&gt;/include/python2.7/ \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -C &lt;span class=&quot;variable&quot;&gt;$&amp;#123;INTERMEDIATE_INSTALL_DIR&amp;#125;&lt;/span&gt; .&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Bonus-Time&quot;&gt;&lt;a href=&quot;#Bonus-Time&quot; class=&quot;headerlink&quot; title=&quot;Bonus Time&quot;&gt;&lt;/a&gt;Bonus Time&lt;/h2&gt;&lt;p&gt;åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªåŠ¨ä¸‹è½½ã€ç¼–è¯‘ã€æ‰“åŒ… Python RPM åŒ…çš„ Makefileï¼›&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ä¸‹è½½ã€ç¼–è¯‘ã€æ‰“åŒ… virtualenvã€pipã€supervisor ç­‰ Python åº“å’Œå·¥å…·çš„ RPM åŒ…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;GitHub é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://github.com/timonwong/python27-rpm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;python27-rpm&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ç”Ÿæˆ RPM åŒ…å¤ªéº»çƒ¦äº†ï¼Œæœ€è¿‘çŸ¥é“äº†ä¸€ä¸ªåä¸º &lt;a href=&quot;https://github.com/jordansissel/fpm&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;FPM&lt;/a&gt; çš„ç¥å™¨ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®‰è£…-FP
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Python" scheme="http://theo.im/tags/python/"/>
    
      <category term="FPM" scheme="http://theo.im/tags/fpm/"/>
    
      <category term="RPM" scheme="http://theo.im/tags/rpm/"/>
    
  </entry>
  
  <entry>
    <title>RabbitMQç¬”è®°ï¼ˆä¸‰ï¼‰: Pikaå®¢æˆ·ç«¯ï¼ˆPythonï¼‰å‘é€å¤§å°ºå¯¸æ¶ˆæ¯çš„é—®é¢˜</title>
    <link href="http://theo.im/blog/2014/05/15/rabbitmq-note-3-pika-send-large-message/"/>
    <id>http://theo.im/blog/2014/05/15/rabbitmq-note-3-pika-send-large-message/</id>
    <published>2014-05-15T02:27:25.000Z</published>
    <updated>2016-05-22T13:48:43.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;é—®é¢˜æè¿°&quot;&gt;&lt;a href=&quot;#é—®é¢˜æè¿°&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜æè¿°&quot;&gt;&lt;/a&gt;é—®é¢˜æè¿°&lt;/h2&gt;&lt;p&gt;è¿™ä¸ªé—®é¢˜å­˜åœ¨å¾ˆä¹…äº†ï¼Œç°è±¡å°±æ˜¯ä½¿ç”¨ &lt;a href=&quot;https://pypi.python.org/pypi/pika/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pika&lt;/a&gt; åº“çš„å®¢æˆ·ç«¯åœ¨å‘é€å¤§å°ºå¯¸æ¶ˆæ¯åï¼ŒRabbitMQ
æ²¡æœ‰æ”¶åˆ°ï¼ŒConsumer é‚£é‡Œä¼šè®¤ä¸ºæ¶ˆæ¯å·²ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; å³ä½¿åœ¨æœ¬æ–‡å†™æ—¶çš„æœ€æ–°ç‰ˆ(v0.9.13)ä¾ç„¶å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&quot;åˆ†æ&quot;&gt;&lt;a href=&quot;#åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;åˆ†æ&quot;&gt;&lt;/a&gt;åˆ†æ&lt;/h2&gt;&lt;p&gt;å› ä¸ºç½‘ç»œçŠ¶æ€å¾ˆå¥½ï¼Œæ‰€ä»¥æ²¡æœ‰è€ƒè™‘ç½‘ç»œçš„é”™è¯¯ï¼Œç›´æ¥è€ƒè™‘&lt;a href=&quot;https://pypi.python.org/pypi/pika/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pika&lt;/a&gt;åº“çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆç¬¬ä¸€æ­¥å°±æ˜¯æŠŠ &lt;a href=&quot;https://pypi.python.org/pypi/pika/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pika&lt;/a&gt; çš„ä»£ç æ‹¿æ¥è¯»ä¸€éï¼Œä¸»è¦çœ‹å®ƒæ˜¯æ€ä¹ˆå‘é€æ¶ˆæ¯çš„ï¼Œç»è¿‡ä¸€ç•ªæ¢ç´¢ï¼Œæ‰¾åˆ°äº†
&lt;code&gt;pika/adapters/base_connection.py&lt;/code&gt; è¿™ä¸ªæ–‡ä»¶ï¼Œæ¥çœ‹çœ‹é‡Œé¢çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;figcaption&gt;&lt;span&gt;pika/adapters/base_connection.py&lt;/span&gt;&lt;a href=&quot;https://github.com/pika/pika/blob/0.9.13/pika/adapters/base_connection.py#L329&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;link&lt;/a&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;_handle_write&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;Handle any outbound buffer writes that need to take place.&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    total_written = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; self.outbound_buffer:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            bytes_written = self.socket.send(self.outbound_buffer.popleft())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;except&lt;/span&gt; socket.timeout:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;raise&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;except&lt;/span&gt; socket.error, error:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; self._handle_error(error)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        total_written += bytes_written&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; total_written&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹å‡ºé—®é¢˜äº†å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ¥çœ‹çœ‹&lt;code&gt;socket.send&lt;/code&gt;çš„æ–‡æ¡£å§ï¼š&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Send data to the socket. The socket must be connected to a remote socket. The optional flags argument has the same meaning as for recv() above. Returns the number of bytes sent. Applications are responsible for checking that all data has been sent; if only some of the data was transmitted, the application needs to attempt delivery of the remaining data. For further information on this concept, consult the Socket Programming HOWTO.&lt;/p&gt;
&lt;footer&gt;&lt;strong&gt;Python Docs&lt;/strong&gt;&lt;cite&gt;&lt;a href=&quot;https://docs.python.org/2/library/socket.html#socket.socket.send&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;socket.send&lt;/a&gt;&lt;/cite&gt;&lt;/footer&gt;&lt;/blockquote&gt;
&lt;p&gt;é—®é¢˜å°±æ˜¯ï¼Œæ²¡æœ‰æ£€æŸ¥ &lt;code&gt;socket.send&lt;/code&gt; çš„è¿”å›å€¼ï¼Œç”±äº &lt;code&gt;socket.send&lt;/code&gt; è¿”å›å®é™…å‘é€çš„ç›´æ¥ä¸ªæ•°ï¼Œå¯èƒ½ä¼šå°äºæœŸæœ›ï¼ˆåœ¨è¿™é‡Œæ˜¯
&lt;code&gt;self.outbound_buffer.popleft()&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äº &lt;code&gt;socket.send&lt;/code&gt; å¯èƒ½æ²¡æœ‰å°†æ•°æ®å‘é€å®Œæˆå°±è¿”å›äº†ï¼Œé€ æˆäº†æ¶ˆæ¯ä¸¢å¤±çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ¥æƒ³è‡ªå·±ä¿®çš„ï¼Œçœ‹äº†ä¸€çœ¼ &lt;a href=&quot;https://pypi.python.org/pypi/pika/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pika&lt;/a&gt; çš„ &lt;code&gt;master&lt;/code&gt; åˆ†æ”¯ï¼Œå·²ç»ä¿®æ­£äº†ï¼ˆä¸€æ¬¡ä¿è¯å°†ä¸€ä¸ªå¸§(Frame)å‘é€å®Œæˆï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;figcaption&gt;&lt;span&gt;pika/adapters/base_connection.py&lt;/span&gt;&lt;a href=&quot;https://github.com/pika/pika/blob/master/pika/adapters/base_connection.py#L354&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;link&lt;/a&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;_handle_write&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;Handle any outbound buffer writes that need to take place.&quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    bytes_written = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; self.outbound_buffer:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        frame = self.outbound_buffer.popleft()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            self.socket.sendall(frame)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            bytes_written = len(frame)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;except&lt;/span&gt; socket.timeout:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;raise&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;except&lt;/span&gt; socket.error &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; error:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; self._handle_error(error)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; bytes_written&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å‘µå‘µâ€¦â€¦&lt;/p&gt;
&lt;h2 id=&quot;è§£å†³&quot;&gt;&lt;a href=&quot;#è§£å†³&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³&quot;&gt;&lt;/a&gt;è§£å†³&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;è‡ªè¡Œæ‰“è¡¥ä¸ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;git&lt;/code&gt; ä¸Šçš„ Pika: &lt;code&gt;pip install git+https://github.com/pika/pika.git&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;ä¸ç”¨ &lt;a href=&quot;https://pypi.python.org/pypi/pika/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pika&lt;/a&gt;, æ¢å…¶å®ƒçš„ï¼Œæ¯”å¦‚ &lt;a href=&quot;http://kombu.readthedocs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Kombu&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æˆ‘ç°åœ¨ä¸ç”¨ &lt;a href=&quot;https://pypi.python.org/pypi/pika/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pika&lt;/a&gt; äº†ï¼Œç”¨ &lt;a href=&quot;http://kombu.readthedocs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Kombu&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PS:&lt;/strong&gt; &lt;a href=&quot;https://pypi.python.org/pypi/pika/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pika&lt;/a&gt; çš„å‘å¸ƒä¹Ÿå¤ªä¸ç§¯æäº†ï¼Œéƒ½æ€ä¹ˆä¹…äº†è¿˜ä¸å‘æ–°ç‰ˆæœ¬ã€‚&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é—®é¢˜æè¿°&quot;&gt;&lt;a href=&quot;#é—®é¢˜æè¿°&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜æè¿°&quot;&gt;&lt;/a&gt;é—®é¢˜æè¿°&lt;/h2&gt;&lt;p&gt;è¿™ä¸ªé—®é¢˜å­˜åœ¨å¾ˆä¹…äº†ï¼Œç°è±¡å°±æ˜¯ä½¿ç”¨ &lt;a href=&quot;https://pypi.python.org/pypi/pika/&quot; 
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Python" scheme="http://theo.im/tags/python/"/>
    
      <category term="RabbitMQ" scheme="http://theo.im/tags/rabbitmq/"/>
    
      <category term="Pika" scheme="http://theo.im/tags/pika/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³GitHub Pagesçš„302è½¬å‘é—®é¢˜</title>
    <link href="http://theo.im/blog/2014/05/14/resolve-302-redirection-on-github-pages/"/>
    <id>http://theo.im/blog/2014/05/14/resolve-302-redirection-on-github-pages/</id>
    <published>2014-05-14T02:34:21.000Z</published>
    <updated>2016-05-21T15:40:47.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;èµ·å› &quot;&gt;&lt;a href=&quot;#èµ·å› &quot; class=&quot;headerlink&quot; title=&quot;èµ·å› &quot;&gt;&lt;/a&gt;èµ·å› &lt;/h2&gt;&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; å¦‚æœç»™GitHub Pagesä½¿ç”¨çš„æ˜¯å­åŸŸåï¼ŒæŒ‰ç…§&lt;a href=&quot;https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub Pagesæ–‡æ¡£&lt;/a&gt;é…ç½®ï¼Œä¸ä¼šå‡ºç°è¯¥é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæˆ‘åœ¨GitHub Pagesä¸Šçš„æ­çš„åšå®¢ä½¿ç”¨äº†&lt;code&gt;theo.im&lt;/code&gt;è¿™ä¸ªæ ¹åŸŸå(Apex Domain)ï¼Œåœ¨æŒ‰ç…§
&lt;a href=&quot;https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub Pagesæ–‡æ¡£&lt;/a&gt;ä¸Šæä¾›çš„ä¿¡æ¯ï¼Œå¯¹&lt;code&gt;theo.im&lt;/code&gt;è®¾ç½®äº†&lt;strong&gt;Aè®°å½•&lt;/strong&gt;ï¼Œä½†æ˜¯é€šè¿‡æ‰§è¡Œå‘½ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl -I http://theo.im/sitemap.xml&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å‘ç°å¾—åˆ°çš„æ˜¯302è½¬å‘ï¼Œä¸ç¬¦åˆSitemapåè®®çš„è¦æ±‚ï¼š&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;A successful request will return an HTTP 200 response code; if you receive a different response, you should resubmit your request. The HTTP 200 response code only indicates that the search engine has received your Sitemap, not that the Sitemap itself or the URLs contained in it were valid.&lt;/p&gt;
&lt;footer&gt;&lt;strong&gt;sitemaps.org&lt;/strong&gt;&lt;cite&gt;&lt;a href=&quot;http://www.sitemaps.org/protocol.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sitemaps Protocol&lt;/a&gt;&lt;/cite&gt;&lt;/footer&gt;&lt;/blockquote&gt;
&lt;h2 id=&quot;è§£å†³&quot;&gt;&lt;a href=&quot;#è§£å†³&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³&quot;&gt;&lt;/a&gt;è§£å†³&lt;/h2&gt;&lt;p&gt;é€šè¿‡æœç´¢ï¼Œæˆ‘å‘ç°éœ€è¦ä½¿ç”¨&lt;strong&gt;ALIASè®°å½•&lt;/strong&gt;è§£ææ ¹åŸŸåï¼Œä½†æ˜¯ç”±äºæˆ‘ä¹‹å‰ä½¿ç”¨çš„æ˜¯&lt;a href=&quot;http://dnspod.cn&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;DNSPod&lt;/a&gt;
çš„æœåŠ¡ï¼Œä¸æ”¯æŒ&lt;strong&gt;ALIASè®°å½•&lt;/strong&gt;ï¼Œå› æ­¤å†³å®šæ¢åŠ DNSåŸŸåè§£æå•†ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡ä¸€ç•ªæœå¯»ï¼Œæ‰¾åˆ°äº†ä¸¤å®¶æ”¯æŒ&lt;strong&gt;ALIASè®°å½•&lt;/strong&gt;çš„DNSåŸŸåè§£æå•†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://dnsimple.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;DNSimple&lt;/a&gt;: å…¨æ”¶è´¹æœåŠ¡&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pointhq.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;PointDNS&lt;/a&gt;: æœ‰å…è´¹çš„å¼€å‘è€…è´¦æˆ·&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ¬ç€èƒ½ç”¨æ”¶è´¹ä¸ç”¨å…è´¹çš„åŸåˆ™ï¼Œå› æ­¤æˆ‘é€‰æ‹©äº† &lt;a href=&quot;https://dnsimple.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;DNSimple&lt;/a&gt; æ¥è§£ææˆ‘çš„åŸŸå (ã‚œoã‚œ(â˜†â—‹=(-_-)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://theo-im.qiniudn.com/images/github-pages-dns-buybuybuy.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;OKï¼Œä¸‡æ–‡ä¸å¦‚ä¸€å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://theo-im.qiniudn.com/images/github-pages-dns-setup.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æœ€åï¼Œè¿è¡Œ &lt;code&gt;dig theo.im +nostats +nocomments +nocmd&lt;/code&gt; æ£€æŸ¥DNSæ˜¯å¦ç”Ÿæ•ˆï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;; &amp;lt;&amp;lt;&amp;gt;&amp;gt; DiG 9.8.2rc1-RedHat-9.8.2-0.23.rc1.el6_5.1 &amp;lt;&amp;lt;&amp;gt;&amp;gt; theo.im +nostats +nocomments +nocmd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;;; global options: +cmd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;;theo.im.           IN  A&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;theo.im.        3600    IN  A   199.27.79.133&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;èµ·å› &quot;&gt;&lt;a href=&quot;#èµ·å› &quot; class=&quot;headerlink&quot; title=&quot;èµ·å› &quot;&gt;&lt;/a&gt;èµ·å› &lt;/h2&gt;&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; å¦‚æœç»™GitHub Pagesä½¿ç”¨çš„æ˜¯å­åŸŸåï¼ŒæŒ‰ç…§&lt;a href=&quot;https://help.
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="GitHub" scheme="http://theo.im/tags/github/"/>
    
      <category term="DNS" scheme="http://theo.im/tags/dns/"/>
    
  </entry>
  
  <entry>
    <title>RabbitMQç¬”è®°ï¼ˆäºŒï¼‰: å¹¶å‘è¿æ¥æ•°</title>
    <link href="http://theo.im/blog/2014/05/13/rabbitmq-note-2-about-simultaneous-connections/"/>
    <id>http://theo.im/blog/2014/05/13/rabbitmq-note-2-about-simultaneous-connections/</id>
    <published>2014-05-13T08:16:21.000Z</published>
    <updated>2016-05-21T15:40:47.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;æ¦‚è¦&quot;&gt;&lt;a href=&quot;#æ¦‚è¦&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¦&quot;&gt;&lt;/a&gt;æ¦‚è¦&lt;/h2&gt;&lt;p&gt;å¯¹äºæœåŠ¡å™¨æ¥è¯´ï¼Œå¹¶å‘è¿æ¥æ•°ä¸€ç›´æ˜¯ä¸€ä¸ªéœ€è¦è€ƒé‡çš„é—®é¢˜ï¼Œå› æ­¤åœ¨è¿™é‡Œåšä¸€ä¸ªç®€å•çš„æµ‹è¯•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æµ‹è¯•&quot;&gt;&lt;a href=&quot;#æµ‹è¯•&quot; class=&quot;headerlink&quot; title=&quot;æµ‹è¯•&quot;&gt;&lt;/a&gt;æµ‹è¯•&lt;/h2&gt;&lt;p&gt;åœ¨æµ‹è¯•å‰ï¼Œéœ€è¦å‡†å¤‡ä¸€ä¸ªå®¢æˆ·ç«¯ç¯å¢ƒï¼Œæœ¬æ–‡çš„ç¯å¢ƒæ˜¯:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CentOS 6.3&lt;/li&gt;
&lt;li&gt;Python 2.7.6&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://kombu.readthedocs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Kombu&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; ä¸‹æ–‡ä¸­çš„ IP åœ°å€ &lt;code&gt;10.10.0.70&lt;/code&gt; ä¸º RabbitMQ æœåŠ¡å™¨çš„ IP åœ°å€&lt;/p&gt;
&lt;h3 id=&quot;æµ‹è¯•-è€—å°½-rabbitmq-çš„-socket-descriptors&quot;&gt;&lt;a href=&quot;#æµ‹è¯•-è€—å°½-rabbitmq-çš„-socket-descriptors&quot; class=&quot;headerlink&quot; title=&quot;æµ‹è¯•: è€—å°½ rabbitmq çš„ socket descriptors&quot;&gt;&lt;/a&gt;æµ‹è¯•: è€—å°½ rabbitmq çš„ socket descriptors&lt;/h3&gt;&lt;p&gt;é¦–å…ˆ, ç¼–å†™ä¸€ä¸ªè„šæœ¬:&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;figcaption&gt;&lt;span&gt;exhaust_socket_descriptors.py&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#!/usr/bin/env python&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; os&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; logging&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; config&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;logging.basicConfig(format=&lt;span class=&quot;string&quot;&gt;&#39;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    level=logging.INFO)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;LOG = logging.getLogger(os.path.basename(__file__))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    connections = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;True&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        LOG.info(&lt;span class=&quot;string&quot;&gt;&quot;Try to establish a new rabbit connection...&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        connection = config.get_connection()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        connection.connect()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        connections.append(connection)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        LOG.info(&lt;span class=&quot;string&quot;&gt;&quot;[%d] connections&quot;&lt;/span&gt;, len(connections))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; __name__ == &lt;span class=&quot;string&quot;&gt;&#39;__main__&#39;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    main()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨&lt;strong&gt;å®¢æˆ·ç«¯&lt;/strong&gt;æ‰§è¡Œ&lt;code&gt;exhaust_socket_descriptors.py&lt;/code&gt;, ä¼šçœ‹åˆ°å¦‚ä¸‹è¾“å‡º:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;...å‰ç•¥...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2014-05-13 10:45:17,477 - exhaust_socket_descriptors.py - INFO - Try to establish a new rabbit connection...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2014-05-13 10:45:17,489 - exhaust_socket_descriptors.py - INFO - [826] connections&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2014-05-13 10:45:17,489 - exhaust_socket_descriptors.py - INFO - Try to establish a new rabbit connection...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2014-05-13 10:45:17,502 - exhaust_socket_descriptors.py - INFO - [827] connections&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2014-05-13 10:45:17,502 - exhaust_socket_descriptors.py - INFO - Try to establish a new rabbit connection...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2014-05-13 10:45:17,516 - exhaust_socket_descriptors.py - INFO - [828] connections&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2014-05-13 10:45:17,516 - exhaust_socket_descriptors.py - INFO - Try to establish a new rabbit connection...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2014-05-13 10:45:17,528 - exhaust_socket_descriptors.py - INFO - [829] connections&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2014-05-13 10:45:17,529 - exhaust_socket_descriptors.py - INFO - Try to establish a new rabbit connection...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;çœ‹åˆ°ä¼¼ä¹æ˜¯è¿æ¥è€—å°½äº†ï¼Œåœ¨&lt;strong&gt;æœåŠ¡å™¨ç«¯&lt;/strong&gt;ä¸Šç¡®è®¤ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[root@localhost vagrant]# rabbitmqctl status | grep sockets_&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#123;sockets_limit,829&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#123;sockets_used,829&amp;#125;]&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;sockets_used&lt;/code&gt; ä¸ &lt;code&gt;sockets_limit&lt;/code&gt; ç›¸åŒï¼Œå¯ä»¥ç¡®è®¤ socket descriptors è€—å°½äº†ï¼Œå› æ­¤å®¢æˆ·ç«¯æˆåŠŸæ–°è¿æ¥ï¼Œå¡åœ¨
&lt;code&gt;Try to establish a new rabbit connection...&lt;/code&gt; å¤„ã€‚ä½†æ˜¯é—®é¢˜åœ¨äºï¼Œ&lt;strong&gt;ä¸ºä»€ä¹ˆä¸è¶…æ—¶ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨&lt;strong&gt;å®¢æˆ·ç«¯&lt;/strong&gt;ä¸­æ£€æŸ¥ä¸€ä¸‹TCPè¿æ¥ä¸ªæ•°:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[root@localhost ~]# netstat -atn | grep 10.10.0.70:5672 | wc -l&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;830&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯ä»¥å¾—å‡ºï¼Œsocketè¿æ¥æ•°æ˜¯830ï¼Œå¤§äºæœåŠ¡å™¨ç«¯çš„&lt;code&gt;sockets_limit&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç»§ç»­ï¼Œåœ¨&lt;strong&gt;å®¢æˆ·ç«¯&lt;/strong&gt;ä¸­ï¼Œæ£€æŸ¥ä¸€ä¸‹TCPè¿æ¥çŠ¶æ€ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[root@localhost ~]# netstat -atn | grep 10.10.0.70:5672  | awk &amp;apos;&amp;#123;print $6&amp;#125;&amp;apos; | uniq&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ESTABLISHED&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;å…¨éƒ¨éƒ½æ˜¯ESTABLISHEDçŠ¶æ€&lt;/strong&gt;ï¼Œå› æ­¤æœåŠ¡å™¨ä»…ä»…æ˜¯é˜»å¡äº†æ–°è¿æ¥ï¼Œè€Œä¸æ˜¯æ‹’ç»æ–°è¿æ¥ã€‚è¿™æ ·ï¼Œå°±äº§ç”Ÿäº†ä¸€ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ä½¿ç”¨ &lt;a href=&quot;http://clusterlabs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;HAProxy&lt;/a&gt; ç­‰å·¥å…·æ­å»ºçš„é›†ç¾¤ï¼Œç”±äº&lt;strong&gt;æœåŠ¡å™¨ä¾ç„¶ä¼šæ¥å—æ–°è¿æ¥&lt;/strong&gt;ï¼Œå› æ­¤ &lt;a href=&quot;http://clusterlabs.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;HAProxy&lt;/a&gt; ä¸ä¼šè®¤ä¸ºèŠ‚ç‚¹å·²Downï¼Œ&lt;strong&gt;æœ€ç»ˆä¼šå¯¼è‡´æ•´ä¸ªé›†ç¾¤å¡ä½&lt;/strong&gt;ï¼›&lt;/p&gt;
&lt;h3 id=&quot;Bug&quot;&gt;&lt;a href=&quot;#Bug&quot; class=&quot;headerlink&quot; title=&quot;Bug&quot;&gt;&lt;/a&gt;Bug&lt;/h3&gt;&lt;p&gt;å½“ RabbitMQ çš„ &lt;code&gt;sockets_used&lt;/code&gt; è¾¾åˆ° &lt;code&gt;sockets_limits&lt;/code&gt; æ—¶å€™ï¼ˆè¿æ¥æ•°è€—å°½æ—¶ï¼‰ï¼Œæœ€ç»ˆå³ä½¿æ˜¯ Consumer
ä¹Ÿä¼šå…¨éƒ¨é˜»å¡ï¼Œåªæœ‰åœ¨ &lt;code&gt;sockets_used &amp;lt; sockets_limit&lt;/code&gt; æ—¶ï¼ˆé‡Šæ”¾éƒ¨åˆ†è¿æ¥åï¼‰ï¼Œæ‰ä¼šæ¢å¤ã€‚&lt;/p&gt;
&lt;p&gt;å‚è§ä»¥ä¸‹è¿æ¥è·å–æ›´å¤šä¿¡æ¯: &lt;a href=&quot;http://markmail.org/message/r4yhvqc7vgfljpao&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://markmail.org/message/r4yhvqc7vgfljpao&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Workaround-å¢åŠ File-Socket-Descriptorsä¸ªæ•°&quot;&gt;&lt;a href=&quot;#Workaround-å¢åŠ File-Socket-Descriptorsä¸ªæ•°&quot; class=&quot;headerlink&quot; title=&quot;Workaround: å¢åŠ File/Socket Descriptorsä¸ªæ•°&quot;&gt;&lt;/a&gt;Workaround: å¢åŠ File/Socket Descriptorsä¸ªæ•°&lt;/h2&gt;&lt;p&gt;é€šè¿‡å®˜æ–¹(åŒ…æ‹¬EPEL)çš„ &lt;code&gt;deb&lt;/code&gt;, &lt;code&gt;rpm&lt;/code&gt; åŒ…å®‰è£…çš„å¯åŠ¨è„šæœ¬ï¼Œéƒ½ä¼šåœ¨&lt;code&gt;rabbitmq-server&lt;/code&gt;
å¯åŠ¨å‰ &lt;code&gt;source&lt;/code&gt; ä¸€æ¬¡ &lt;code&gt;/etc/default/rabbitmq-server&lt;/code&gt; æ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨è¯¥æ–‡ä»¶ä¸­å¢åŠ æœ€å¤§å…è®¸çš„
File/Socket Descriptors ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;ulimit -n 102400&#39;&lt;/span&gt; &amp;gt; /etc/default/rabbitmq-server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æœ€åï¼Œé‡å¯ RabbitMQ æœåŠ¡å™¨ä»¥ç”Ÿæ•ˆè¯¥è®¾ç½®ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;service rabbitmq-server restart&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Updated&quot;&gt;&lt;a href=&quot;#Updated&quot; class=&quot;headerlink&quot; title=&quot;Updated&quot;&gt;&lt;/a&gt;Updated&lt;/h2&gt;&lt;h3 id=&quot;May-17-2014&quot;&gt;&lt;a href=&quot;#May-17-2014&quot; class=&quot;headerlink&quot; title=&quot;May 17, 2014&quot;&gt;&lt;/a&gt;May 17, 2014&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æ›´æ–° Bug è¯´æ˜ (RabbitMQ &lt;code&gt;bug26180&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ¦‚è¦&quot;&gt;&lt;a href=&quot;#æ¦‚è¦&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¦&quot;&gt;&lt;/a&gt;æ¦‚è¦&lt;/h2&gt;&lt;p&gt;å¯¹äºæœåŠ¡å™¨æ¥è¯´ï¼Œå¹¶å‘è¿æ¥æ•°ä¸€ç›´æ˜¯ä¸€ä¸ªéœ€è¦è€ƒé‡çš„é—®é¢˜ï¼Œå› æ­¤åœ¨è¿™é‡Œåšä¸€ä¸ªç®€å•çš„æµ‹è¯•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æµ‹è¯•&quot;&gt;&lt;a href=&quot;#æµ‹è¯•&quot;
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="RabbitMQ" scheme="http://theo.im/tags/rabbitmq/"/>
    
  </entry>
  
  <entry>
    <title>RabbitMQç¬”è®°ï¼ˆä¸€ï¼‰: é€šè¿‡Vagrantå»ºç«‹ä¸€ä¸ªRabbitMQæœåŠ¡å™¨å®éªŒç¯å¢ƒ</title>
    <link href="http://theo.im/blog/2014/05/13/rabbitmq-note-1-setup-experimental-rabbitmq-environment-using-vagrant/"/>
    <id>http://theo.im/blog/2014/05/13/rabbitmq-note-1-setup-experimental-rabbitmq-environment-using-vagrant/</id>
    <published>2014-05-13T06:46:31.000Z</published>
    <updated>2016-05-21T15:40:47.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;å®‰è£…Vagrant&quot;&gt;&lt;a href=&quot;#å®‰è£…Vagrant&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…Vagrant&quot;&gt;&lt;/a&gt;å®‰è£…Vagrant&lt;/h2&gt;&lt;p&gt;åœ¨&lt;a href=&quot;http://vagrantup.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜æ–¹ç½‘ç«™&lt;/a&gt;ä¸Šï¼Œä¸‹è½½å¹¶å®‰è£…Vagrant&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: Vagrant 1.6ç‰ˆæœ¬å¯¹&lt;code&gt;CentOS&lt;/code&gt;çš„guestæ”¯æŒä¸å¥½ï¼Œä¸èƒ½æ­£ç¡®è®¾ç½®ç½‘ç»œè¿æ¥ï¼Œéœ€è¦å‡çº§åˆ°æœ€æ–°ç‰ˆæˆ–æ‰“ä¸Šä¸‹é¢è¿™ä¸ªè¡¥ä¸: &lt;a href=&quot;https://github.com/cammoraton/vagrant/commit/1e4584cde51765972af41cd48fc0409756a8fd59&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Fix issue reported at mitchellh#3649&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä¸‹è½½å¹¶å¯¼å…¥CentOS-6-3-Box&quot;&gt;&lt;a href=&quot;#ä¸‹è½½å¹¶å¯¼å…¥CentOS-6-3-Box&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½å¹¶å¯¼å…¥CentOS 6.3 Box&quot;&gt;&lt;/a&gt;ä¸‹è½½å¹¶å¯¼å…¥CentOS 6.3 Box&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;vagrant box add --name centos63 &lt;span class=&quot;string&quot;&gt;&#39;https://s3.amazonaws.com/itmat-public/centos-6.3-chef-10.14.2.box&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;åˆ›å»ºVagrantfile&quot;&gt;&lt;a href=&quot;#åˆ›å»ºVagrantfile&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºVagrantfile&quot;&gt;&lt;/a&gt;åˆ›å»ºVagrantfile&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Vagrantfile&lt;/code&gt; æ–‡ä»¶å†…å®¹å¦‚ä¸‹:&lt;/p&gt;
&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;figcaption&gt;&lt;span&gt;Vagrantfile&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# -*- mode: ruby -*-&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# vi: set ft=ruby :&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Vagrantfile API/syntax version. Don&#39;t touch unless you know what you&#39;re doing!&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;VAGRANTFILE_API_VERSION = &lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Vagrant.configure(VAGRANTFILE_API_VERSION) &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;|config|&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  config.vm.box = &lt;span class=&quot;string&quot;&gt;&quot;centos63&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# ä¸€ä¸ªHost-Onlyçš„Network, IPåœ°å€å¯ä»¥è‡ªå®šä¹‰, æ–¹ä¾¿è®¿é—®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  config.vm.network &lt;span class=&quot;symbol&quot;&gt;:private_network&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;ip:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;10.10.0.70&quot;&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;netmask:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;255.255.255.0&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# config.vm.synced_folder &quot;../&quot;, &quot;/vagrant&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  config.vm.provider &lt;span class=&quot;symbol&quot;&gt;:virtualbox&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;|vb|&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# è°ƒèŠ‚è™šæ‹ŸæœºCPUä¸ªæ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vb.customize [&lt;span class=&quot;string&quot;&gt;&quot;modifyvm&quot;&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:id&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;--cpus&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;2&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# è°ƒèŠ‚è™šæ‹Ÿæœºå†…å­˜å¤§å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vb.customize [&lt;span class=&quot;string&quot;&gt;&quot;modifyvm&quot;&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:id&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;--memory&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;2048&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vb.customize [&lt;span class=&quot;string&quot;&gt;&quot;modifyvm&quot;&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:id&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;--natdnshostresolver1&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;on&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    vb.customize [&lt;span class=&quot;string&quot;&gt;&quot;setextradata&quot;&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:id&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;VBoxInternal2/SharedFoldersEnableSymlinksCreate/vagrant&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;1&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# è‡ªåŠ¨å®‰è£…è„šæœ¬&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  config.vm.provision &lt;span class=&quot;symbol&quot;&gt;:shell&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;path:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;provision.sh&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸ºäº†ç®€åŒ–å®‰è£…ï¼Œæä¾›ä¸€ä¸ªç”¨äºè‡ªåŠ¨å®‰è£…çš„è„šæœ¬&lt;code&gt;provision.sh&lt;/code&gt;ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#!/usr/bin/env bash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Disable yum fastestmirror plugin&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sed -i.backup &lt;span class=&quot;string&quot;&gt;&#39;s/^enabled=1/enabled=0/&#39;&lt;/span&gt; /etc/yum/pluginconf.d/fastestmirror.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Change yum mirror (163)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget -O /etc/yum.repos.d/CentOS-Base-163.repo http://mirrors.163.com/.help/CentOS6-Base-163.repo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum makecache&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Install EPEL repository&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget http://rpms.famillecollet.com/enterprise/remi-release-6.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rpm -Uvh remi-release-6*.rpm epel-release-6*.rpm&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Install and start rabbitmq-server&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum -y install rabbitmq-server&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## Automatically start&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;chkconfig rabbitmq-server on&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## Create a sample config and enable guest user remote access&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &amp;gt; /etc/rabbitmq/rabbitmq.config &amp;lt;&amp;lt;EOF&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#123;rabbit, [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;loopback_users, []&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ]&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;].&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;EOF&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## Enable magement plugin&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/usr/lib/rabbitmq/bin/rabbitmq-plugins &lt;span class=&quot;built_in&quot;&gt;enable&lt;/span&gt; rabbitmq_management&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;## Start rabbitmq-server&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;service rabbitmq-server start&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# Disable iptables&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;service iptables stop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;chkconfig iptables off&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;å¯åŠ¨è™šæ‹Ÿæœº&quot;&gt;&lt;a href=&quot;#å¯åŠ¨è™šæ‹Ÿæœº&quot; class=&quot;headerlink&quot; title=&quot;å¯åŠ¨è™šæ‹Ÿæœº&quot;&gt;&lt;/a&gt;å¯åŠ¨è™šæ‹Ÿæœº&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;vagrant up&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;ä½¿ç”¨SSHè¿æ¥åˆ°è™šæ‹Ÿæœº&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨SSHè¿æ¥åˆ°è™šæ‹Ÿæœº&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨SSHè¿æ¥åˆ°è™šæ‹Ÿæœº&quot;&gt;&lt;/a&gt;ä½¿ç”¨SSHè¿æ¥åˆ°è™šæ‹Ÿæœº&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨å‘½ä»¤(å¦‚æœæ”¯æŒçš„è¯):&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;vagrant ssh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ–ä½¿ç”¨SSHå·¥å…·ï¼Œä¾‹å¦‚ &lt;a href=&quot;http://www.netsarang.com/products/xsh_overview.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;XShell&lt;/a&gt;, &lt;a href=&quot;http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;PuTTY&lt;/a&gt; ç­‰å·¥å…·ï¼Œè¿æ¥åˆ° &lt;code&gt;10.10.0.70:22&lt;/code&gt; (IPåœ¨ä¹‹å‰ &lt;code&gt;Vagrantfile&lt;/code&gt; ä¸­å®šä¹‰)&lt;/p&gt;
&lt;h2 id=&quot;åœæ­¢è™šæ‹Ÿæœº&quot;&gt;&lt;a href=&quot;#åœæ­¢è™šæ‹Ÿæœº&quot; class=&quot;headerlink&quot; title=&quot;åœæ­¢è™šæ‹Ÿæœº&quot;&gt;&lt;/a&gt;åœæ­¢è™šæ‹Ÿæœº&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;vagrant halt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å®‰è£…Vagrant&quot;&gt;&lt;a href=&quot;#å®‰è£…Vagrant&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…Vagrant&quot;&gt;&lt;/a&gt;å®‰è£…Vagrant&lt;/h2&gt;&lt;p&gt;åœ¨&lt;a href=&quot;http://vagrantup.com&quot; target=&quot;_b
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="RabbitMQ" scheme="http://theo.im/tags/rabbitmq/"/>
    
      <category term="Vagrant" scheme="http://theo.im/tags/vagrant/"/>
    
  </entry>
  
  <entry>
    <title>From Octopress To Hexo</title>
    <link href="http://theo.im/blog/2014/05/13/from-octopress-to-hexo/"/>
    <id>http://theo.im/blog/2014/05/13/from-octopress-to-hexo/</id>
    <published>2014-05-13T06:18:50.000Z</published>
    <updated>2016-05-21T15:40:47.000Z</updated>
    
    <content type="html">&lt;p&gt;Itâ€™s been a long time, &lt;a href=&quot;http://octopress.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Octopress&lt;/a&gt; is slow and painful to setup, after the death of my silly hard drive, Iâ€™m too lazy so I give up setting a Octopress environment, even writing new posts.&lt;/p&gt;
&lt;p&gt;Eventually, Iâ€™m levaing, heading for &lt;a href=&quot;http://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Whatâ€™s-Hexo&quot;&gt;&lt;a href=&quot;#Whatâ€™s-Hexo&quot; class=&quot;headerlink&quot; title=&quot;Whatâ€™s Hexo?&quot;&gt;&lt;/a&gt;Whatâ€™s Hexo?&lt;/h2&gt;&lt;p&gt;Hexo is a fast, simple and powerful blog framework. It parses your posts with &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Markdown&lt;/a&gt; or other render engine and generates static files with the beautiful theme. All of these just take seconds.&lt;/p&gt;
&lt;h2 id=&quot;Why&quot;&gt;&lt;a href=&quot;#Why&quot; class=&quot;headerlink&quot; title=&quot;Why?&quot;&gt;&lt;/a&gt;Why?&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Painless installing&lt;/li&gt;
&lt;li&gt;Cleaner &lt;a href=&quot;http://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Simple configuration&lt;/li&gt;
&lt;li&gt;Fast generating, deploying&lt;/li&gt;
&lt;li&gt;Easy customization&lt;/li&gt;
&lt;li&gt;Actively maintained&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Itâ€™s been a long time, &lt;a href=&quot;http://octopress.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Octopress&lt;/a&gt; is slow and painful to setup, after t
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Hexo" scheme="http://theo.im/tags/hexo/"/>
    
      <category term="GitHub" scheme="http://theo.im/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>åŒè½´å€¾è§’ä¼ æ„Ÿå™¨è®¡ç®—å¡åº¦</title>
    <link href="http://theo.im/blog/2012/12/29/calculating-gradient-form-two-axis-inclinometer/"/>
    <id>http://theo.im/blog/2012/12/29/calculating-gradient-form-two-axis-inclinometer/</id>
    <published>2012-12-29T11:30:00.000Z</published>
    <updated>2016-05-21T15:40:47.000Z</updated>
    
    <content type="html">&lt;p&gt;ä»¤ $x$ è½´, $y$ è½´ä¸Šçš„è½¬è§’åˆ†åˆ«ä¸º $\alpha, \beta$, å¹³é¢å¡åº¦ä¸º $\theta$, åˆ™:&lt;/p&gt;
&lt;p&gt;$$
\begin{align}
  \theta = \arccos({
    \frac
      {1}
      {\sqrt{
        \tan^2{\alpha} + \tan^2{\beta} + 1
      }}
  })
\end{align}
$$&lt;/p&gt;
&lt;p&gt;æœ€è¿‘æ‹¿äº†ä¸ªåŒè½´å€¾è§’ä¼ æ„Ÿå™¨ç©ç©ï¼ŒæŠŠå…¬å¼å’Œç¤ºä¾‹ä»£ç è®°ä¸‹æ¥å¤‡å¿˜ã€‚&lt;/p&gt;
&lt;p&gt;æ¨å¯¼è¿‡ç¨‹å°±çœç•¥äº†ï¼Œä¸‹é¢æ˜¯Cè¯­è¨€æè¿°çš„ç¤ºä¾‹ä»£ç ï¼Œå…¶ä¸­ &lt;code&gt;calc_gradient_from_pitch_roll()&lt;/code&gt; å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼éƒ½æ˜¯&lt;strong&gt;å¼§åº¦&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;figcaption&gt;&lt;span&gt;å¡åº¦è®¡ç®—ç¤ºä¾‹ä»£ç &lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;meta-string&quot;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;meta-string&quot;&gt;&amp;lt;math.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; MATH_PI     (3.14159f)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; DEGREES_TO_RADIANS(angle)       ((angle) * ((MATH_PI) / 180.0f))&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;define&lt;/span&gt; RADIANS_TO_DEGREES(radians)     ((radians) * (180.0f / (MATH_PI)))&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;calc_gradient_from_pitch_roll&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; pitch, &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; roll)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; tan_pitch = &lt;span class=&quot;built_in&quot;&gt;tan&lt;/span&gt;(pitch);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; tan_roll  = &lt;span class=&quot;built_in&quot;&gt;tan&lt;/span&gt;(roll);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;acos&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;1.0f&lt;/span&gt; / &lt;span class=&quot;built_in&quot;&gt;sqrt&lt;/span&gt;(tan_pitch * tan_pitch + tan_roll * tan_roll + &lt;span class=&quot;number&quot;&gt;1.0f&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt; *argv[])&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (;;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; deg_pitch, deg_roll;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;(in degress) pitch,roll = &quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; ret = &lt;span class=&quot;built_in&quot;&gt;scanf&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;%f,%f&quot;&lt;/span&gt;, &amp;amp;deg_pitch, &amp;amp;deg_roll);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (ret == &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; pitch    = DEGREES_TO_RADIANS(deg_pitch);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; roll     = DEGREES_TO_RADIANS(deg_roll);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;float&lt;/span&gt; gradient = calc_gradient_from_pitch_roll(pitch, roll);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;(in degress) gradient = %f\n&quot;&lt;/span&gt;, RADIANS_TO_DEGREES(gradient));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (ret == EOF) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// Print error message and clear the input buffer&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Illegal input\n&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            setbuf(&lt;span class=&quot;built_in&quot;&gt;stdin&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;ä»¤ $x$ è½´, $y$ è½´ä¸Šçš„è½¬è§’åˆ†åˆ«ä¸º $\alpha, \beta$, å¹³é¢å¡åº¦ä¸º $\theta$, åˆ™:&lt;/p&gt;
&lt;p&gt;$$
\begin{align}
  \theta = \arccos({
    \frac
      {1}
      {\sqrt{

    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Hardware" scheme="http://theo.im/tags/hardware/"/>
    
  </entry>
  
  <entry>
    <title>$\LaTeX$ Support in OmniMarkupPreviewer</title>
    <link href="http://theo.im/blog/2012/11/03/latex-support-in-omnimarkuppreviewer/"/>
    <id>http://theo.im/blog/2012/11/03/latex-support-in-omnimarkuppreviewer/</id>
    <published>2012-11-03T04:41:00.000Z</published>
    <updated>2016-05-21T16:08:34.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;Prologue&quot;&gt;&lt;a href=&quot;#Prologue&quot; class=&quot;headerlink&quot; title=&quot;Prologue&quot;&gt;&lt;/a&gt;Prologue&lt;/h2&gt;&lt;p&gt;With the release of &lt;a href=&quot;http://theo.im/OmniMarkupPreviewer/&quot;&gt;OmniMarkupPreviewer&lt;/a&gt; &lt;code&gt;v1.6&lt;/code&gt;, you can embed $\LaTeX$ and MathML equations directly into your Markdown documents. Equations are handled with the excellent &lt;a href=&quot;http://www.mathjax.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MathJax&lt;/a&gt; library.&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;Usage&quot;&gt;&lt;a href=&quot;#Usage&quot; class=&quot;headerlink&quot; title=&quot;Usage&quot;&gt;&lt;/a&gt;Usage&lt;/h2&gt;&lt;h3 id=&quot;Settings&quot;&gt;&lt;a href=&quot;#Settings&quot; class=&quot;headerlink&quot; title=&quot;Settings&quot;&gt;&lt;/a&gt;Settings&lt;/h3&gt;&lt;p&gt;In order to enable MathJax, you have to set &lt;code&gt;&amp;quot;mathjax_enabled&amp;quot;&lt;/code&gt; to &lt;code&gt;true&lt;/code&gt; in your OmniMarkupPreviewer settings. MathJax will be downloaded automatically in the background, so hold on.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;OmniMarkupPreviewer.sublime-settings&lt;/code&gt;:&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;mathjax_enabled&quot;&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;NOTE (Linux)&lt;/strong&gt;
For linux users, because ssl module is missing from Linux version of &lt;a href=&quot;http://sublimetext.com/2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sublime Text 2&lt;/a&gt;, you have to download and extract MathJax library manually:&lt;/p&gt;
&lt;p&gt;Download the MathJax archive:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;wget -c https://github.com/downloads/timonwong/OmniMarkupPreviewer/mathjax.zip&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Extract to &lt;code&gt;${packages}/OmniMarkupPreviewer/public/&lt;/code&gt;:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;unzip mathjax.zip &lt;span class=&quot;_&quot;&gt;-d&lt;/span&gt; ~/.config/sublime-text-2/Packages/OmniMarkupPreviewer/public&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Create an empty file named &lt;code&gt;.MATHJAX.DOWNLOADED&lt;/code&gt; in the plugin folder:&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;touch ~/.config/sublime-text-2/Packages/OmniMarkupPreviewer/.MATHJAX.DOWNLOADED&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;After MathJax is installed successfully, you have to &lt;strong&gt;reload&lt;/strong&gt; your browser to apply the changes.&lt;/p&gt;
&lt;h3 id=&quot;Writing-Equations&quot;&gt;&lt;a href=&quot;#Writing-Equations&quot; class=&quot;headerlink&quot; title=&quot;Writing Equations&quot;&gt;&lt;/a&gt;Writing Equations&lt;/h3&gt;&lt;h4 id=&quot;Inline-Equations&quot;&gt;&lt;a href=&quot;#Inline-Equations&quot; class=&quot;headerlink&quot; title=&quot;Inline Equations&quot;&gt;&lt;/a&gt;Inline Equations&lt;/h4&gt;&lt;p&gt;Enclose your euqation in &lt;code&gt;$&lt;/code&gt; delimiters to include an inline $\LaTeX$ equation, for example:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;This expression $\sqrt&amp;#123;3x-1&amp;#125;+(1+x)^2$ is an example of a $\LaTeX$ inline equation.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;This expression $\sqrt{3x-1}+(1+x)^2$ is an example of a $\LaTeX$ inline equation.&lt;/p&gt;
&lt;p&gt;Alternatively, native MathJax delimiter for inline math (&lt;code&gt;\(&lt;/code&gt; and &lt;code&gt;\)&lt;/code&gt;) is also supported.&lt;/p&gt;
&lt;h4 id=&quot;Display-Equations&quot;&gt;&lt;a href=&quot;#Display-Equations&quot; class=&quot;headerlink&quot; title=&quot;Display Equations&quot;&gt;&lt;/a&gt;Display Equations&lt;/h4&gt;&lt;p&gt;To include a $\LaTeX$ display equation you have to enclose the equation in &lt;code&gt;$$&lt;/code&gt; delimiters, for example:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;The Lorenz Equations:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$$&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;\begin&amp;#123;aligned&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;\dot&amp;#123;x&amp;#125; &amp;amp; = \sigma(y-x) \\&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;\dot&amp;#123;y&amp;#125; &amp;amp; = \rho x - y - xz \\&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;\dot&amp;#123;z&amp;#125; &amp;amp; = -\beta z + xy&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;\end&amp;#123;aligned&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$$&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

$$
\begin{aligned}
\dot{x} &amp; = \sigma(y-x) \\
\dot{y} &amp; = \rho x - y - xz \\
\dot{z} &amp; = -\beta z + xy
\end{aligned}
$$

&lt;p&gt;The alternative syntax of native MathJax delimiter for display math (&lt;code&gt;\[&lt;/code&gt; and &lt;code&gt;\]&lt;/code&gt;) is also provided.&lt;/p&gt;
&lt;h4 id=&quot;MathML-Equations&quot;&gt;&lt;a href=&quot;#MathML-Equations&quot; class=&quot;headerlink&quot; title=&quot;MathML Equations&quot;&gt;&lt;/a&gt;MathML Equations&lt;/h4&gt;&lt;p&gt;You can alsow insert MathML euqations, just wrap your equation inside the standard &lt;code&gt;&amp;lt;math&amp;gt;&lt;/code&gt; tag:&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;math&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;xmlns&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://www.w3.org/1998/Math/MathML&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;display&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;block&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;P&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;stretchy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;(&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;E&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;stretchy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;)&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt;&amp;gt;&lt;/span&gt;=&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mrow&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;MJX-TeXAtom-ORD&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mfenced&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;open&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;(&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;close&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;)&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mfrac&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;linethickness&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;0&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;n&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;k&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mfrac&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mfenced&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mrow&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;msup&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;p&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;k&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;msup&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;stretchy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;(&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mn&lt;/span&gt;&amp;gt;&lt;/span&gt;1&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mn&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt;&amp;gt;&lt;/span&gt;&amp;amp;#x2212;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- âˆ’ --&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;p&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;msup&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;stretchy&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;false&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;)&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mrow&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;MJX-TeXAtom-ORD&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;n&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt;&amp;gt;&lt;/span&gt;&amp;amp;#x2212;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- âˆ’ --&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mo&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;k&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mi&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;mrow&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;msup&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;math&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Prologue&quot;&gt;&lt;a href=&quot;#Prologue&quot; class=&quot;headerlink&quot; title=&quot;Prologue&quot;&gt;&lt;/a&gt;Prologue&lt;/h2&gt;&lt;p&gt;With the release of &lt;a href=&quot;http://theo.im/OmniMarkupPreviewer/&quot;&gt;OmniMarkupPreviewer&lt;/a&gt; &lt;code&gt;v1.6&lt;/code&gt;, you can embed $\LaTeX$ and MathML equations directly into your Markdown documents. Equations are handled with the excellent &lt;a href=&quot;http://www.mathjax.org/&quot;&gt;MathJax&lt;/a&gt; library.&lt;/p&gt;
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Sublime Text 2" scheme="http://theo.im/tags/sublime-text-2/"/>
    
      <category term="Sublime Text 3" scheme="http://theo.im/tags/sublime-text-3/"/>
    
      <category term="OmniMarkupPreviewer" scheme="http://theo.im/tags/omnimarkuppreviewer/"/>
    
  </entry>
  
  <entry>
    <title>Directory comparison for git difftool, with Beyond Compare 3</title>
    <link href="http://theo.im/blog/2012/10/27/directory-comparison-for-git-difftool/"/>
    <id>http://theo.im/blog/2012/10/27/directory-comparison-for-git-difftool/</id>
    <published>2012-10-27T15:02:00.000Z</published>
    <updated>2016-05-21T15:40:47.000Z</updated>
    
    <content type="html">&lt;p&gt;For a long time, I didnâ€™t know a way to do directory comparison using git difftool command, &lt;a href=&quot;http://mercurial.selenic.com/wiki/ExtdiffExtension&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;extdiff extension&lt;/a&gt; from Mercurial did perform much more superior than Git.&lt;/p&gt;
&lt;p&gt;Though it may be a bit out of date, I just found that after &lt;code&gt;v1.7.11&lt;/code&gt;, Git now supports directory comparison through &lt;code&gt;--dir-diff&lt;/code&gt; option, fantastic!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;UPDATE 12/11/2012:&lt;/strong&gt; You will need v1.8.0 version of &lt;a href=&quot;http://code.google.com/p/msysgit/downloads/list&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;msysgit&lt;/a&gt; installed, as noted by &lt;strong&gt;Scooter Software&lt;/strong&gt; (&lt;a href=&quot;http://www.scootersoftware.com/vbulletin/showthread.php?t=9449&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Reference&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;So here is a list of steps for me to make Beyond Compare 3 and Git directory comparison work under Windows.&lt;/p&gt;
&lt;p&gt;First of all, Execute following commands in the &lt;code&gt;Git Bash&lt;/code&gt; shell (or just modify your .gitconfig directly). You may need to change the folder where &lt;code&gt;BCompare.exe&lt;/code&gt; resides.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git config --global diff.tool bc3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --global difftool.bc3.cmd &amp;quot;\&amp;quot;c:/Program Files/Beyond Compare 3/BCompare.exe\&amp;quot; \&amp;quot;$LOCAL\&amp;quot; \&amp;quot;$REMOTE\&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git config --global difftool.prompt false&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; Instead of &lt;code&gt;bcomp.exe&lt;/code&gt;, use &lt;code&gt;BCompare.exe&lt;/code&gt;, because Iâ€™ve found &lt;code&gt;bcomp.exe&lt;/code&gt; returns too early, which will cause errors like this:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;...Git/libexec/git-core\git-difftool line 444: Bad file number&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Then make an alias for difftool:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git config --global alias.dt &amp;quot;difftool --dir-diff&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Now, you can use &lt;code&gt;git dt&lt;/code&gt; to open Beyond Compare 3 for directory comparison in git repositories.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;For a long time, I didnâ€™t know a way to do directory comparison using git difftool command, &lt;a href=&quot;http://mercurial.selenic.com/wiki/Ex
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Git" scheme="http://theo.im/tags/git/"/>
    
      <category term="Beyond Compare 3" scheme="http://theo.im/tags/beyond-compare-3/"/>
    
  </entry>
  
  <entry>
    <title>Workaround: Failed to import unicodedata in Sublime Text 2 under Windows</title>
    <link href="http://theo.im/blog/2012/10/25/workaround-failed-to-import-unicodedata-in-sublime-text-2-under-windows/"/>
    <id>http://theo.im/blog/2012/10/25/workaround-failed-to-import-unicodedata-in-sublime-text-2-under-windows/</id>
    <published>2012-10-25T05:36:00.000Z</published>
    <updated>2016-05-21T15:40:47.000Z</updated>
    
    <content type="html">&lt;p&gt;Itâ€™s weird, while importing some .pyd modules, like pyexpat, unicodedata in Windows version of &lt;a href=&quot;http://www.sublimetext.com/2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sublime Text 2&lt;/a&gt;, you will get &lt;code&gt;ImportError&lt;/code&gt;, for example:&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; unicodedata&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Will result in:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Import Error: No module named unicodedata&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;However, since standard pyd modules are not missing, reside correctly in the same folder as sublime_text.exe, we can add that folder to sys.path in order to allow embedded python interpreter to load these modules:&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sys.path.insert(os.path.dirname(sys.executable))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;After that, you can import these standard python modules without pain, I hope itâ€™s useful for Sublime Text 2 packages developers who met the same problem before.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Itâ€™s weird, while importing some .pyd modules, like pyexpat, unicodedata in Windows version of &lt;a href=&quot;http://www.sublimetext.com/2&quot; tar
    
    </summary>
    
      <category term="IT" scheme="http://theo.im/blog/categories/it/"/>
    
    
      <category term="Sublime Text 2" scheme="http://theo.im/tags/sublime-text-2/"/>
    
      <category term="Python" scheme="http://theo.im/tags/python/"/>
    
  </entry>
  
</feed>
